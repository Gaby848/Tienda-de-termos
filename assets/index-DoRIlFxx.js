(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=i(u);fetch(u.href,c)}})();function yv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kf={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function i1(){if(Fy)return Yl;Fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,c){var d=null;if(c!==void 0&&(d=""+c),u.key!==void 0&&(d=""+u.key),"key"in u){c={};for(var g in u)g!=="key"&&(c[g]=u[g])}else c=u;return u=c.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:c}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var Qy;function a1(){return Qy||(Qy=1,Kf.exports=i1()),Kf.exports}var nt=a1(),Xf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function r1(){if(Yy)return vt;Yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,H={};function et(O,X,rt){this.props=O,this.context=X,this.refs=H,this.updater=rt||J}et.prototype.isReactComponent={},et.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},et.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function tt(){}tt.prototype=et.prototype;function st(O,X,rt){this.props=O,this.context=X,this.refs=H,this.updater=rt||J}var Rt=st.prototype=new tt;Rt.constructor=st,W(Rt,et.prototype),Rt.isPureReactComponent=!0;var wt=Array.isArray;function Ct(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(O,X,rt){var ot=rt.ref;return{$$typeof:r,type:O,key:X,ref:ot!==void 0?ot:null,props:rt}}function M(O,X){return R(O.type,X,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(rt){return X[rt]})}var C=/\/+/g;function ie(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function De(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ct,Ct):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,rt,ot,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case e:Ut=!0;break;case T:return Ut=O._init,F(Ut(O._payload),X,rt,ot,yt)}}if(Ut)return yt=yt(O),Ut=ot===""?"."+ie(O,0):ot,wt(yt)?(rt="",Ut!=null&&(rt=Ut.replace(C,"$&/")+"/"),F(yt,X,rt,"",function(ja){return ja})):yt!=null&&(I(yt)&&(yt=M(yt,rt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+Ut)),X.push(yt)),1;Ut=0;var Ve=ot===""?".":ot+":";if(wt(O))for(var ae=0;ae<O.length;ae++)ot=O[ae],St=Ve+ie(ot,ae),Ut+=F(ot,X,rt,St,yt);else if(ae=j(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(ot=O.next()).done;)ot=ot.value,St=Ve+ie(ot,ae++),Ut+=F(ot,X,rt,St,yt);else if(St==="object"){if(typeof O.then=="function")return F(De(O),X,rt,ot,yt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function at(O,X,rt){if(O==null)return O;var ot=[],yt=0;return F(O,ot,"","",function(St){return X.call(rt,St,yt++)}),ot}function mt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(rt){(O._status===0||O._status===-1)&&(O._status=1,O._result=rt)},function(rt){(O._status===0||O._status===-1)&&(O._status=2,O._result=rt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:at,forEach:function(O,X,rt){at(O,function(){X.apply(this,arguments)},rt)},count:function(O){var X=0;return at(O,function(){X++}),X},toArray:function(O){return at(O,function(X){return X})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Gt,vt.Component=et,vt.Fragment=i,vt.Profiler=u,vt.PureComponent=st,vt.StrictMode=s,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,X,rt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=W({},O.props),yt=O.key;if(X!=null)for(St in X.key!==void 0&&(yt=""+X.key),X)!b.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(ot[St]=X[St]);var St=arguments.length-2;if(St===1)ot.children=rt;else if(1<St){for(var Ut=Array(St),Ve=0;Ve<St;Ve++)Ut[Ve]=arguments[Ve+2];ot.children=Ut}return R(O.type,yt,ot)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,X,rt){var ot,yt={},St=null;if(X!=null)for(ot in X.key!==void 0&&(St=""+X.key),X)b.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(yt[ot]=X[ot]);var Ut=arguments.length-2;if(Ut===1)yt.children=rt;else if(1<Ut){for(var Ve=Array(Ut),ae=0;ae<Ut;ae++)Ve[ae]=arguments[ae+2];yt.children=Ve}if(O&&O.defaultProps)for(ot in Ut=O.defaultProps,Ut)yt[ot]===void 0&&(yt[ot]=Ut[ot]);return R(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:g,render:O}},vt.isValidElement=I,vt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:mt}},vt.memo=function(O,X){return{$$typeof:p,type:O,compare:X===void 0?null:X}},vt.startTransition=function(O){var X=D.T,rt={};D.T=rt;try{var ot=O(),yt=D.S;yt!==null&&yt(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ct,Bt)}catch(St){Bt(St)}finally{X!==null&&rt.types!==null&&(X.types=rt.types),D.T=X}},vt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},vt.use=function(O){return D.H.use(O)},vt.useActionState=function(O,X,rt){return D.H.useActionState(O,X,rt)},vt.useCallback=function(O,X){return D.H.useCallback(O,X)},vt.useContext=function(O){return D.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,X){return D.H.useDeferredValue(O,X)},vt.useEffect=function(O,X){return D.H.useEffect(O,X)},vt.useEffectEvent=function(O){return D.H.useEffectEvent(O)},vt.useId=function(){return D.H.useId()},vt.useImperativeHandle=function(O,X,rt){return D.H.useImperativeHandle(O,X,rt)},vt.useInsertionEffect=function(O,X){return D.H.useInsertionEffect(O,X)},vt.useLayoutEffect=function(O,X){return D.H.useLayoutEffect(O,X)},vt.useMemo=function(O,X){return D.H.useMemo(O,X)},vt.useOptimistic=function(O,X){return D.H.useOptimistic(O,X)},vt.useReducer=function(O,X,rt){return D.H.useReducer(O,X,rt)},vt.useRef=function(O){return D.H.useRef(O)},vt.useState=function(O){return D.H.useState(O)},vt.useSyncExternalStore=function(O,X,rt){return D.H.useSyncExternalStore(O,X,rt)},vt.useTransition=function(){return D.H.useTransition()},vt.version="19.2.0",vt}var Ky;function Ud(){return Ky||(Ky=1,Xf.exports=r1()),Xf.exports}var Q=Ud();const s1=yv(Q);var $f={exports:{}},Kl={},Zf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function l1(){return Xy||(Xy=1,(function(r){function e(F,at){var mt=F.length;F.push(at);t:for(;0<mt;){var Bt=mt-1>>>1,Gt=F[Bt];if(0<u(Gt,at))F[Bt]=at,F[mt]=Gt,mt=Bt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var at=F[0],mt=F.pop();if(mt!==at){F[0]=mt;t:for(var Bt=0,Gt=F.length,O=Gt>>>1;Bt<O;){var X=2*(Bt+1)-1,rt=F[X],ot=X+1,yt=F[ot];if(0>u(rt,mt))ot<Gt&&0>u(yt,rt)?(F[Bt]=yt,F[ot]=mt,Bt=ot):(F[Bt]=rt,F[X]=mt,Bt=X);else if(ot<Gt&&0>u(yt,mt))F[Bt]=yt,F[ot]=mt,Bt=ot;else break t}}return at}function u(F,at){var mt=F.sortIndex-at.sortIndex;return mt!==0?mt:F.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,S=null,V=3,j=!1,J=!1,W=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function Rt(F){for(var at=i(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=F)s(p),at.sortIndex=at.expirationTime,e(y,at);else break;at=i(p)}}function wt(F){if(W=!1,Rt(F),!J)if(i(y)!==null)J=!0,Ct||(Ct=!0,U());else{var at=i(p);at!==null&&De(wt,at.startTime-F)}}var Ct=!1,D=-1,b=5,R=-1;function M(){return H?!0:!(r.unstable_now()-R<b)}function I(){if(H=!1,Ct){var F=r.unstable_now();R=F;var at=!0;try{t:{J=!1,W&&(W=!1,tt(D),D=-1),j=!0;var mt=V;try{e:{for(Rt(F),S=i(y);S!==null&&!(S.expirationTime>F&&M());){var Bt=S.callback;if(typeof Bt=="function"){S.callback=null,V=S.priorityLevel;var Gt=Bt(S.expirationTime<=F);if(F=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Rt(F),at=!0;break e}S===i(y)&&s(y),Rt(F)}else s(y);S=i(y)}if(S!==null)at=!0;else{var O=i(p);O!==null&&De(wt,O.startTime-F),at=!1}}break t}finally{S=null,V=mt,j=!1}at=void 0}}finally{at?U():Ct=!1}}}var U;if(typeof st=="function")U=function(){st(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=I,U=function(){ie.postMessage(null)}}else U=function(){et(I,0)};function De(F,at){D=et(function(){F(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var at=3;break;default:at=V}var mt=V;V=at;try{return F()}finally{V=mt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(F,at){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var mt=V;V=F;try{return at()}finally{V=mt}},r.unstable_scheduleCallback=function(F,at,mt){var Bt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Bt+mt:Bt):mt=Bt,F){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=mt+Gt,F={id:T++,callback:at,priorityLevel:F,startTime:mt,expirationTime:Gt,sortIndex:-1},mt>Bt?(F.sortIndex=mt,e(p,F),i(y)===null&&F===i(p)&&(W?(tt(D),D=-1):W=!0,De(wt,mt-Bt))):(F.sortIndex=Gt,e(y,F),J||j||(J=!0,Ct||(Ct=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var at=V;return function(){var mt=V;V=at;try{return F.apply(this,arguments)}finally{V=mt}}}})(Jf)),Jf}var $y;function u1(){return $y||($y=1,Zf.exports=l1()),Zf.exports}var Wf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function o1(){if(Zy)return Ye;Zy=1;var r=Ud();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(y,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:y,containerInfo:p,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,T)},Ye.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},Ye.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:j}):T==="script"&&s.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Ye.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,p){return y(p)},Ye.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var Jy;function c1(){if(Jy)return Wf.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wf.exports=o1(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function h1(){if(Wy)return Kl;Wy=1;var r=u1(),e=Ud(),i=c1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===l)return y(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,l=f;break}if(E===l){_=!0,l=h,a=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===a){_=!0,a=f,l=h;break}if(E===l){_=!0,l=f,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case et:return"Profiler";case H:return"StrictMode";case wt:return"Suspense";case Ct:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case st:return t.displayName||"Context";case tt:return(t._context.displayName||"Context")+".Consumer";case Rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var De=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Bt=[],Gt=-1;function O(t){return{current:t}}function X(t){0>Gt||(t.current=Bt[Gt],Bt[Gt]=null,Gt--)}function rt(t,n){Gt++,Bt[Gt]=t.current,t.current=n}var ot=O(null),yt=O(null),St=O(null),Ut=O(null);function Ve(t,n){switch(rt(St,n),rt(yt,t),rt(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?my(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=my(n),t=gy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ot),rt(ot,t)}function ae(){X(ot),X(yt),X(St)}function ja(t){t.memoizedState!==null&&rt(Ut,t);var n=ot.current,a=gy(n,t.type);n!==a&&(rt(yt,t),rt(ot,a))}function Vr(t){yt.current===t&&(X(ot),X(yt)),Ut.current===t&&(X(Ut),Hl._currentValue=mt)}var Ir,Nr;function Kn(t){if(Ir===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ir=n&&n[1]||"",Nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+t+Nr}var Hs=!1;function qa(t,n){if(!t||Hs)return"";Hs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var P=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){P=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){P=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&P&&typeof k.stack=="string")return[k.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var w=_.split(`
`),B=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===B.length)for(l=w.length-1,h=B.length-1;1<=l&&0<=h&&w[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==B[h]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Hs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Kn(a):""}function Gs(t,n){switch(t.tag){case 26:case 27:case 5:return Kn(t.type);case 16:return Kn("Lazy");case 13:return t.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return Kn("Activity");default:return""}}function Fs(t){try{var n="",a=null;do n+=Gs(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var pe=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,$i=r.unstable_cancelCallback,Xc=r.unstable_shouldYield,Ru=r.unstable_requestPaint,Ze=r.unstable_now,ka=r.unstable_getCurrentPriorityLevel,Qs=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,$c=r.unstable_LowPriority,Cu=r.unstable_IdlePriority,wu=r.log,Du=r.unstable_setDisableYieldValue,Mn=null,Be=null;function _n(t){if(typeof wu=="function"&&Du(t),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Mn,t)}catch{}}var he=Math.clz32?Math.clz32:Iu,Vu=Math.log,Or=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Vu(t)/Or|0)|0}var Xn=256,Ha=262144,ye=4194304;function $n(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=$n(l):(_&=E,_!==0?h=$n(_):a||(a=E&~t,a!==0&&(h=$n(a))))):(E=l&~f,E!==0?h=$n(E):_!==0?h=$n(_):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ga(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jc(t,n,a,l,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-he(a),K=1<<G;E[G]=0,w[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var k=P[G];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&Fa(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Fa(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-he(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ks(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-he(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Xs(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function Un(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Ln=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ln,xe="__reactProps$"+Ln,Wn="__reactContainer$"+Ln,Mr="__reactEvents$"+Ln,Wc="__reactListeners$"+Ln,Mu="__reactHandles$"+Ln,xu="__reactResources$"+Ln,ti="__reactMarker$"+Ln;function xr(t){delete t[_e],delete t[xe],delete t[Mr],delete t[Wc],delete t[Mu]}function ei(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Wn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ay(t);t!==null;){if(a=t[_e])return a;t=Ay(t)}return n}t=a,a=t.parentNode}return null}function vn(t){if(t=t[_e]||t[Wn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ni(t){var n=t[xu];return n||(n=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(t){t[ti]=!0}var $s=new Set,Zs={};function ii(t,n){ai(t,n),ai(t+"Capture",n)}function ai(t,n){for(Zs[t]=n,t=0;t<n.length;t++)$s.add(n[t])}var Js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},tl={};function Uu(t){return pe.call(tl,t)?!0:pe.call(Ws,t)?!1:Js.test(t)?tl[t]=!0:(Ws[t]=!0,!1)}function Ur(t,n,a){if(Uu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function cn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ee(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ue(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ji(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function el(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ft(t){if(!t._valueTracker){var n=Ji(t)?"checked":"value";t._valueTracker=el(t,n,""+t[n])}}function Ya(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ji(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ka=/[\n"\\]/g;function tn(t){return t.replace(Ka,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Lr(t,n,a,l,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ue(n)):t.value!==""+Ue(n)&&(t.value=""+Ue(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?nl(t,_,Ue(n)):a!=null?nl(t,_,Ue(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ue(E):t.removeAttribute("name")}function Lu(t,n,a,l,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ft(t);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ft(t)}function nl(t,n,a){n==="number"&&ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function zu(t,n,a){if(n!=null&&(n=""+Ue(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ue(a):""}function ta(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ue(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ft(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Bu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function al(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&il(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&il(t,f,n[f])}function zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ea=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(t){return ea.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function zn(){}var rl=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,si=null;function Xa(t){var n=vn(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Lr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[xe]||null;if(!h)throw Error(s(90));Lr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ya(l)}break t;case"textarea":zu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Wi(t,!!a.multiple,n,!1)}}}var Pr=!1;function ia(t,n,a){if(Pr)return t(n,a);Pr=!0;try{var l=t(n);return l}finally{if(Pr=!1,(na!==null||si!==null)&&(Mo(),na&&(n=na,t=si,si=na=null,Xa(n),t)))for(n=0;n<t.length;n++)Xa(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$a=!1;if(Tn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){$a=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{$a=!1}var li=null,sl=null,Za=null;function ll(){if(Za)return Za;var t,n=sl,a=n.length,l,h="value"in li?li.value:li.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[f-l];l++);return Za=h.slice(t,1<l?1-l:void 0)}function Ja(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ri(){return!0}function Pn(){return!1}function Pe(t){function n(a,l,h,f,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ri:Pn,this.isPropagationStopped=Pn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ri)},persist:function(){},isPersistent:Ri}),n}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Pe(Ci),aa=S({},Ci,{view:0,detail:0}),ul=Pe(aa),ra,jr,oi,qr=S({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ra=t.screenX-oi.screenX,jr=t.screenY-oi.screenY):jr=ra=0,oi=t),ra)},movementY:function(t){return"movementY"in t?t.movementY:jr}}),ol=Pe(qr),Wa=S({},qr,{dataTransfer:0}),ju=Pe(Wa),qu=S({},aa,{relatedTarget:0}),tr=Pe(qu),cl=S({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ku=Pe(cl),kr=S({},Ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=Pe(kr),Gu=S({},Ci,{data:0}),ci=Pe(Gu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Yu[t])?!!n[t]:!1}function sa(){return Ku}var Je=S({},aa,{key:function(t){if(t.key){var n=Fu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sa,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=Pe(Je),$u=S({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Pe($u),o=S({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sa}),m=Pe(o),v=S({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Pe(v),L=S({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Pe(L),it=S({},Ci,{newState:0,oldState:0}),Tt=Pe(it),fe=[9,13,27,32],qt=Tn&&"CompositionEvent"in window,re=null;Tn&&"documentMode"in document&&(re=document.documentMode);var An=Tn&&"TextEvent"in window&&!re,hi=Tn&&(!qt||re&&8<re&&11>=re),jn=" ",qn=!1;function er(t,n){switch(t){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gr=!1;function w0(t,n){switch(t){case"compositionend":return Hr(n);case"keypress":return n.which!==32?null:(qn=!0,jn);case"textInput":return t=n.data,t===jn&&qn?null:t;default:return null}}function D0(t,n){if(Gr)return t==="compositionend"||!qt&&er(t,n)?(t=ll(),Za=sl=li=null,Gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hi&&n.locale!=="ko"?null:n.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!V0[t.type]:n==="textarea"}function Cm(t,n,a,l){na?si?si.push(l):si=[l]:na=l,n=jo(n,"onChange"),0<n.length&&(a=new ui("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var hl=null,fl=null;function I0(t){uy(t,0)}function Zu(t){var n=on(t);if(Ya(n))return t}function wm(t,n){if(t==="change")return n}var Dm=!1;if(Tn){var th;if(Tn){var eh="oninput"in document;if(!eh){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),eh=typeof Vm.oninput=="function"}th=eh}else th=!1;Dm=th&&(!document.documentMode||9<document.documentMode)}function Im(){hl&&(hl.detachEvent("onpropertychange",Nm),fl=hl=null)}function Nm(t){if(t.propertyName==="value"&&Zu(fl)){var n=[];Cm(n,fl,t,En(t)),ia(I0,n)}}function N0(t,n,a){t==="focusin"?(Im(),hl=n,fl=a,hl.attachEvent("onpropertychange",Nm)):t==="focusout"&&Im()}function O0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(fl)}function M0(t,n){if(t==="click")return Zu(n)}function x0(t,n){if(t==="input"||t==="change")return Zu(n)}function U0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:U0;function dl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(n,h)||!hn(t[h],n[h]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mm(t,n){var a=Om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Om(a)}}function xm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?xm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ri(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ri(t.document)}return n}function nh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var L0=Tn&&"documentMode"in document&&11>=document.documentMode,Fr=null,ih=null,ml=null,ah=!1;function Lm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ah||Fr==null||Fr!==ri(l)||(l=Fr,"selectionStart"in l&&nh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=jo(ih,"onSelect"),0<l.length&&(n=new ui("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Fr)))}function nr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Qr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},rh={},zm={};Tn&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function ir(t){if(rh[t])return rh[t];if(!Qr[t])return t;var n=Qr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in zm)return rh[t]=n[a];return t}var Bm=ir("animationend"),Pm=ir("animationiteration"),jm=ir("animationstart"),z0=ir("transitionrun"),B0=ir("transitionstart"),P0=ir("transitioncancel"),qm=ir("transitionend"),km=new Map,sh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sh.push("scrollEnd");function kn(t,n){km.set(t,n),ii(n,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Sn=[],Yr=0,lh=0;function Wu(){for(var t=Yr,n=lh=Yr=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&Hm(a,h,f)}}function to(t,n,a,l){Sn[Yr++]=t,Sn[Yr++]=n,Sn[Yr++]=a,Sn[Yr++]=l,lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uh(t,n,a,l){return to(t,n,a,l),eo(t)}function ar(t,n){return to(t,null,null,n),eo(t)}function Hm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-he(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function eo(t){if(50<Ll)throw Ll=0,_f=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Kr={};function j0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new j0(t,n,a,l)}function oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Gm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function no(t,n,a,l,h,f){var _=0;if(l=t,typeof t=="function")oh(t)&&(_=1);else if(typeof t=="string")_=FT(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=fn(31,a,n,h),t.elementType=R,t.lanes=f,t;case W:return rr(a.children,h,f,n);case H:_=8,h|=24;break;case et:return t=fn(12,a,n,h|2),t.elementType=et,t.lanes=f,t;case wt:return t=fn(13,a,n,h),t.elementType=wt,t.lanes=f,t;case Ct:return t=fn(19,a,n,h),t.elementType=Ct,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:_=10;break t;case tt:_=9;break t;case Rt:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function rr(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function ch(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function Fm(t){var n=fn(18,null,null,0);return n.stateNode=t,n}function hh(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Fs(n)},Qm.set(t,n),n)}return{value:t,source:n,stack:Fs(n)}}var Xr=[],$r=0,io=null,gl=0,Rn=[],Cn=0,la=null,fi=1,di="";function Vi(t,n){Xr[$r++]=gl,Xr[$r++]=io,io=t,gl=n}function Ym(t,n,a){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=la,la=t;var l=fi;t=di;var h=32-he(l)-1;l&=~(1<<h),a+=1;var f=32-he(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,fi=1<<32-he(n)+h|a<<h|l,di=f+t}else fi=1<<f|a<<h|l,di=t}function fh(t){t.return!==null&&(Vi(t,1),Ym(t,1,0))}function dh(t){for(;t===io;)io=Xr[--$r],Xr[$r]=null,gl=Xr[--$r],Xr[$r]=null;for(;t===la;)la=Rn[--Cn],Rn[Cn]=null,di=Rn[--Cn],Rn[Cn]=null,fi=Rn[--Cn],Rn[Cn]=null}function Km(t,n){Rn[Cn++]=fi,Rn[Cn++]=di,Rn[Cn++]=la,fi=n.id,di=n.overflow,la=t}var je=null,te=null,xt=!1,ua=null,wn=!1,mh=Error(s(519));function oa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(bn(n,t)),mh}function Xm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[xe]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Vt(Bl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Lu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ta(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||fy(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=zn),n=!0):n=!1,n||oa(t,!0)}function $m(t){for(je=t.return;je;)switch(je.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:je=je.return}}function Zr(t){if(t!==je)return!1;if(!xt)return $m(t),xt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mf(t.type,t.memoizedProps)),a=!a),a&&te&&oa(t),$m(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=Ty(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));te=Ty(t)}else n===27?(n=te,Sa(t.type)?(t=Bf,Bf=null,te=t):te=n):te=je?Vn(t.stateNode.nextSibling):null;return!0}function sr(){te=je=null,xt=!1}function gh(){var t=ua;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ua=null),t}function pl(t){ua===null?ua=[t]:ua.push(t)}var ph=O(null),lr=null,Ii=null;function ca(t,n,a){rt(ph,n._currentValue),n._currentValue=a}function Ni(t){t._currentValue=ph.current,X(ph)}function yh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function _h(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),yh(f.return,a,t),l||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),yh(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Jr(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;hn(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ut.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}h=h.return}t!==null&&_h(n,t,a,l),n.flags|=262144}function ao(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ur(t){lr=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Zm(lr,t)}function ro(t,n){return lr===null&&ur(t),Zm(t,n)}function Zm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var q0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},k0=r.unstable_scheduleCallback,H0=r.unstable_NormalPriority,Te={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new q0,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&k0(H0,function(){t.controller.abort()})}var _l=null,Eh=0,Wr=0,ts=null;function G0(t,n){if(_l===null){var a=_l=[];Eh=0,Wr=bf(),ts={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Eh++,n.then(Jm,Jm),n}function Jm(){if(--Eh===0&&_l!==null){ts!==null&&(ts.status="fulfilled");var t=_l;_l=null,Wr=0,ts=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function F0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wm=F.S;F.S=function(t,n){Lp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&G0(t,n),Wm!==null&&Wm(t,n)};var or=O(null);function Th(){var t=or.current;return t!==null?t:Jt.pooledCache}function so(t,n){n===null?rt(or,or.current):rt(or,n.pool)}function tg(){var t=Th();return t===null?null:{parent:Te._currentValue,pool:t}}var es=Error(s(460)),Ah=Error(s(474)),lo=Error(s(542)),uo={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ng(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zn,zn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t;default:if(typeof n.status=="string")n.then(zn,zn);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ag(t),t}throw hr=n,es}}function cr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hr=a,es):a}}var hr=null;function ig(){if(hr===null)throw Error(s(459));var t=hr;return hr=null,t}function ag(t){if(t===es||t===lo)throw Error(s(483))}var ns=null,vl=0;function oo(t){var n=vl;return vl+=1,ns===null&&(ns=[]),ng(ns,t,n)}function El(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function co(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rg(t){function n(x,N){if(t){var z=x.deletions;z===null?(x.deletions=[N],x.flags|=16):z.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Di(x,N),x.index=0,x.sibling=null,x}function f(x,N,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<N?(x.flags|=67108866,N):z):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,z,Y){return N===null||N.tag!==6?(N=ch(z,x.mode,Y),N.return=x,N):(N=h(N,z),N.return=x,N)}function w(x,N,z,Y){var ft=z.type;return ft===W?G(x,N,z.props.children,Y,z.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&cr(ft)===N.type)?(N=h(N,z.props),El(N,z),N.return=x,N):(N=no(z.type,z.key,z.props,null,x.mode,Y),El(N,z),N.return=x,N)}function B(x,N,z,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=hh(z,x.mode,Y),N.return=x,N):(N=h(N,z.children||[]),N.return=x,N)}function G(x,N,z,Y,ft){return N===null||N.tag!==7?(N=rr(z,x.mode,Y,ft),N.return=x,N):(N=h(N,z),N.return=x,N)}function K(x,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ch(""+N,x.mode,z),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case j:return z=no(N.type,N.key,N.props,null,x.mode,z),El(z,N),z.return=x,z;case J:return N=hh(N,x.mode,z),N.return=x,N;case b:return N=cr(N),K(x,N,z)}if(De(N)||U(N))return N=rr(N,x.mode,z,null),N.return=x,N;if(typeof N.then=="function")return K(x,oo(N),z);if(N.$$typeof===st)return K(x,ro(x,N),z);co(x,N)}return null}function P(x,N,z,Y){var ft=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:E(x,N,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===ft?w(x,N,z,Y):null;case J:return z.key===ft?B(x,N,z,Y):null;case b:return z=cr(z),P(x,N,z,Y)}if(De(z)||U(z))return ft!==null?null:G(x,N,z,Y,null);if(typeof z.then=="function")return P(x,N,oo(z),Y);if(z.$$typeof===st)return P(x,N,ro(x,z),Y);co(x,z)}return null}function k(x,N,z,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(z)||null,E(N,x,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return x=x.get(Y.key===null?z:Y.key)||null,w(N,x,Y,ft);case J:return x=x.get(Y.key===null?z:Y.key)||null,B(N,x,Y,ft);case b:return Y=cr(Y),k(x,N,z,Y,ft)}if(De(Y)||U(Y))return x=x.get(z)||null,G(N,x,Y,ft,null);if(typeof Y.then=="function")return k(x,N,z,oo(Y),ft);if(Y.$$typeof===st)return k(x,N,z,ro(N,Y),ft);co(N,Y)}return null}function ct(x,N,z,Y){for(var ft=null,Pt=null,ht=N,bt=N=0,Nt=null;ht!==null&&bt<z.length;bt++){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var jt=P(x,ht,z[bt],Y);if(jt===null){ht===null&&(ht=Nt);break}t&&ht&&jt.alternate===null&&n(x,ht),N=f(jt,N,bt),Pt===null?ft=jt:Pt.sibling=jt,Pt=jt,ht=Nt}if(bt===z.length)return a(x,ht),xt&&Vi(x,bt),ft;if(ht===null){for(;bt<z.length;bt++)ht=K(x,z[bt],Y),ht!==null&&(N=f(ht,N,bt),Pt===null?ft=ht:Pt.sibling=ht,Pt=ht);return xt&&Vi(x,bt),ft}for(ht=l(ht);bt<z.length;bt++)Nt=k(ht,x,bt,z[bt],Y),Nt!==null&&(t&&Nt.alternate!==null&&ht.delete(Nt.key===null?bt:Nt.key),N=f(Nt,N,bt),Pt===null?ft=Nt:Pt.sibling=Nt,Pt=Nt);return t&&ht.forEach(function(Da){return n(x,Da)}),xt&&Vi(x,bt),ft}function gt(x,N,z,Y){if(z==null)throw Error(s(151));for(var ft=null,Pt=null,ht=N,bt=N=0,Nt=null,jt=z.next();ht!==null&&!jt.done;bt++,jt=z.next()){ht.index>bt?(Nt=ht,ht=null):Nt=ht.sibling;var Da=P(x,ht,jt.value,Y);if(Da===null){ht===null&&(ht=Nt);break}t&&ht&&Da.alternate===null&&n(x,ht),N=f(Da,N,bt),Pt===null?ft=Da:Pt.sibling=Da,Pt=Da,ht=Nt}if(jt.done)return a(x,ht),xt&&Vi(x,bt),ft;if(ht===null){for(;!jt.done;bt++,jt=z.next())jt=K(x,jt.value,Y),jt!==null&&(N=f(jt,N,bt),Pt===null?ft=jt:Pt.sibling=jt,Pt=jt);return xt&&Vi(x,bt),ft}for(ht=l(ht);!jt.done;bt++,jt=z.next())jt=k(ht,x,bt,jt.value,Y),jt!==null&&(t&&jt.alternate!==null&&ht.delete(jt.key===null?bt:jt.key),N=f(jt,N,bt),Pt===null?ft=jt:Pt.sibling=jt,Pt=jt);return t&&ht.forEach(function(n1){return n(x,n1)}),xt&&Vi(x,bt),ft}function Zt(x,N,z,Y){if(typeof z=="object"&&z!==null&&z.type===W&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:t:{for(var ft=z.key;N!==null;){if(N.key===ft){if(ft=z.type,ft===W){if(N.tag===7){a(x,N.sibling),Y=h(N,z.props.children),Y.return=x,x=Y;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&cr(ft)===N.type){a(x,N.sibling),Y=h(N,z.props),El(Y,z),Y.return=x,x=Y;break t}a(x,N);break}else n(x,N);N=N.sibling}z.type===W?(Y=rr(z.props.children,x.mode,Y,z.key),Y.return=x,x=Y):(Y=no(z.type,z.key,z.props,null,x.mode,Y),El(Y,z),Y.return=x,x=Y)}return _(x);case J:t:{for(ft=z.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(x,N.sibling),Y=h(N,z.children||[]),Y.return=x,x=Y;break t}else{a(x,N);break}else n(x,N);N=N.sibling}Y=hh(z,x.mode,Y),Y.return=x,x=Y}return _(x);case b:return z=cr(z),Zt(x,N,z,Y)}if(De(z))return ct(x,N,z,Y);if(U(z)){if(ft=U(z),typeof ft!="function")throw Error(s(150));return z=ft.call(z),gt(x,N,z,Y)}if(typeof z.then=="function")return Zt(x,N,oo(z),Y);if(z.$$typeof===st)return Zt(x,N,ro(x,z),Y);co(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(x,N.sibling),Y=h(N,z),Y.return=x,x=Y):(a(x,N),Y=ch(z,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,N)}return function(x,N,z,Y){try{vl=0;var ft=Zt(x,N,z,Y);return ns=null,ft}catch(ht){if(ht===es||ht===lo)throw ht;var Pt=fn(29,ht,null,x.mode);return Pt.lanes=Y,Pt.return=x,Pt}finally{}}}var fr=rg(!0),sg=rg(!1),ha=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function da(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=eo(t),Hm(t,null,a),n}return to(t,l,n,a),eo(t)}function Tl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ks(t,a)}}function Rh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ch=!1;function Al(){if(Ch){var t=ts;if(t!==null)throw t}}function Sl(t,n,a,l){Ch=!1;var h=t.updateQueue;ha=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,B=w.next;w.next=null,_===null?f=B:_.next=B,_=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==_&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=w))}if(f!==null){var K=h.baseState;_=0,G=B=w=null,E=f;do{var P=E.lane&-536870913,k=P!==E.lane;if(k?(It&P)===P:(l&P)===P){P!==0&&P===Wr&&(Ch=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=t,gt=E;P=n;var Zt=a;switch(gt.tag){case 1:if(ct=gt.payload,typeof ct=="function"){K=ct.call(Zt,K,P);break t}K=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=gt.payload,P=typeof ct=="function"?ct.call(Zt,K,P):ct,P==null)break t;K=S({},K,P);break t;case 2:ha=!0}}P=E.callback,P!==null&&(t.flags|=64,k&&(t.flags|=8192),k=h.callbacks,k===null?h.callbacks=[P]:k.push(P))}else k={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=k,w=K):G=G.next=k,_|=P;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;k=E,E=k.next,k.next=null,h.lastBaseUpdate=k,h.shared.pending=null}}while(!0);G===null&&(w=K),h.baseState=w,h.firstBaseUpdate=B,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),_a|=_,t.lanes=_,t.memoizedState=K}}function lg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function ug(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)lg(a[t],n)}var is=O(null),ho=O(0);function og(t,n){t=ji,rt(ho,t),rt(is,n),ji=t|n.baseLanes}function wh(){rt(ho,ji),rt(is,is.current)}function Dh(){ji=ho.current,X(is),X(ho)}var dn=O(null),Dn=null;function ma(t){var n=t.alternate;rt(de,de.current&1),rt(dn,t),Dn===null&&(n===null||is.current!==null||n.memoizedState!==null)&&(Dn=t)}function Vh(t){rt(de,de.current),rt(dn,t),Dn===null&&(Dn=t)}function cg(t){t.tag===22?(rt(de,de.current),rt(dn,t),Dn===null&&(Dn=t)):ga()}function ga(){rt(de,de.current),rt(dn,dn.current)}function mn(t){X(dn),Dn===t&&(Dn=null),X(de)}var de=O(0);function fo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Lf(a)||zf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Oi=0,At=null,Xt=null,Ae=null,mo=!1,as=!1,dr=!1,go=0,bl=0,rs=null,Q0=0;function oe(){throw Error(s(321))}function Ih(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function Nh(t,n,a,l,h,f){return Oi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Yg:Qh,dr=!1,f=a(l,h),dr=!1,as&&(f=fg(n,a,l,h)),hg(t),f}function hg(t){F.H=wl;var n=Xt!==null&&Xt.next!==null;if(Oi=0,Ae=Xt=At=null,mo=!1,bl=0,rs=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&ao(t)&&(Se=!0))}function fg(t,n,a,l){At=t;var h=0;do{if(as&&(rs=null),bl=0,as=!1,25<=h)throw Error(s(301));if(h+=1,Ae=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Kg,f=n(a,l)}while(as);return f}function Y0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(At.flags|=1024),n}function Oh(){var t=go!==0;return go=0,t}function Mh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xh(t){if(mo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}mo=!1}Oi=0,Ae=Xt=At=null,as=!1,bl=go=0,rs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function me(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Xt=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ae===null?At.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function po(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=bl;return bl+=1,rs===null&&(rs=[]),t=ng(rs,t,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yg:Qh),t}function yo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===st)return qe(t)}throw Error(s(438,String(t)))}function Uh(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=po(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Mi(t,n){return typeof n=="function"?n(t):n}function _o(t){var n=me();return Lh(n,Xt,t)}function Lh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,w=null,B=n,G=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(It&K)===K:(Oi&K)===K){var P=B.revertLane;if(P===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===Wr&&(G=!0);else if((Oi&P)===P){B=B.next,P===Wr&&(G=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=K,_=f):w=w.next=K,At.lanes|=P,_a|=P;K=B.action,dr&&a(f,K),f=B.hasEagerState?B.eagerState:a(f,K)}else P={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=P,_=f):w=w.next=P,At.lanes|=K,_a|=K;B=B.next}while(B!==null&&B!==n);if(w===null?_=f:w.next=E,!hn(f,t.memoizedState)&&(Se=!0,G&&(a=ts,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);hn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function dg(t,n,a){var l=At,h=me(),f=xt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!hn((Xt||h).memoizedState,a);if(_&&(h.memoizedState=a,Se=!0),h=h.queue,jh(pg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,ss(9,{destroy:void 0},gg.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(Oi&127)!==0||mg(l,n,a)}return a}function mg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=po(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function gg(t,n,a,l){n.value=a,n.getSnapshot=l,yg(n)&&_g(t)}function pg(t,n,a){return a(function(){yg(n)&&_g(t)})}function yg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function _g(t){var n=ar(t,2);n!==null&&ln(n,t,2)}function Bh(t){var n=We();if(typeof t=="function"){var a=t;if(t=a(),dr){_n(!0);try{a()}finally{_n(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function vg(t,n,a,l){return t.baseState=a,Lh(t,Xt,typeof l=="function"?l:Mi)}function K0(t,n,a,l,h){if(To(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Eg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var E=a(h,l),w=F.S;w!==null&&w(_,E),Tg(t,n,E)}catch(B){Ph(t,n,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,l),Tg(t,n,f)}catch(B){Ph(t,n,B)}}function Tg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ag(t,n,l)},function(l){return Ph(t,n,l)}):Ag(t,n,a)}function Ag(t,n,a){n.status="fulfilled",n.value=a,Sg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Eg(t,a)))}function Ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Sg(n),n=n.next;while(n!==l)}t.action=null}function Sg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bg(t,n){return n}function Rg(t,n){if(xt){var a=Jt.formState;if(a!==null){t:{var l=At;if(xt){if(te){e:{for(var h=te,f=wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),l=h.data==="F!";break t}}oa(l)}l=!1}l&&(n=a[0])}}return a=We(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},a.queue=l,a=Gg.bind(null,At,l),l.dispatch=a,l=Bh(!1),f=Fh.bind(null,At,!1,l.queue),l=We(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=K0.bind(null,At,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Cg(t){var n=me();return wg(n,Xt,t)}function wg(t,n,a){if(n=Lh(t,n,bg)[0],t=_o(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(_){throw _===es?lo:_}else l=n;n=me();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,ss(9,{destroy:void 0},X0.bind(null,h,a),null)),[l,f,t]}function X0(t,n){t.action=n}function Dg(t){var n=me(),a=Xt;if(a!==null)return wg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ss(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=po(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Vg(){return me().memoizedState}function vo(t,n,a,l){var h=We();At.flags|=t,h.memoizedState=ss(1|n,{destroy:void 0},a,l===void 0?null:l)}function Eo(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Ih(l,Xt.memoizedState.deps)?h.memoizedState=ss(n,f,a,l):(At.flags|=t,h.memoizedState=ss(1|n,f,a,l))}function Ig(t,n){vo(8390656,8,t,n)}function jh(t,n){Eo(2048,8,t,n)}function $0(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=po(),At.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ng(t){var n=me().memoizedState;return $0({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Og(t,n){return Eo(4,2,t,n)}function Mg(t,n){return Eo(4,4,t,n)}function xg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ug(t,n,a){a=a!=null?a.concat([t]):null,Eo(4,4,xg.bind(null,n,t),a)}function qh(){}function Lg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ih(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function zg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ih(n,l[1]))return l[0];if(l=t(),dr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l}function kh(t,n,a){return a===void 0||(Oi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Bp(),At.lanes|=t,_a|=t,a)}function Bg(t,n,a,l){return hn(a,n)?a:is.current!==null?(t=kh(t,a,l),hn(t,n)||(Se=!0),t):(Oi&42)===0||(Oi&1073741824)!==0&&(It&261930)===0?(Se=!0,t.memoizedState=a):(t=Bp(),At.lanes|=t,_a|=t,n)}function Pg(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var _=F.T,E={};F.T=E,Fh(t,!1,n,a);try{var w=h(),B=F.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=F0(w,l);Cl(t,n,G,yn(t))}else Cl(t,n,l,yn(t))}catch(K){Cl(t,n,{then:function(){},status:"rejected",reason:K},yn())}finally{at.p=f,_!==null&&E.types!==null&&(_.types=E.types),F.T=_}}function Z0(){}function Hh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=jg(t).queue;Pg(t,h,n,mt,a===null?Z0:function(){return qg(t),a(l)})}function jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qg(t){var n=jg(t);n.next===null&&(n=t.alternate.memoizedState),Cl(t,n.next.queue,{},yn())}function Gh(){return qe(Hl)}function kg(){return me().memoizedState}function Hg(){return me().memoizedState}function J0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=yn();t=fa(a);var l=da(n,t,a);l!==null&&(ln(l,n,a),Tl(l,n,a)),n={cache:vh()},t.payload=n;return}n=n.return}}function W0(t,n,a){var l=yn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},To(t)?Fg(n,a):(a=uh(t,n,a,l),a!==null&&(ln(a,t,l),Qg(a,n,l)))}function Gg(t,n,a){var l=yn();Cl(t,n,a,l)}function Cl(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(To(t))Fg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,_))return to(t,n,h,0),Jt===null&&Wu(),!1}catch{}finally{}if(a=uh(t,n,h,l),a!==null)return ln(a,t,l),Qg(a,n,l),!0}return!1}function Fh(t,n,a,l){if(l={lane:2,revertLane:bf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},To(t)){if(n)throw Error(s(479))}else n=uh(t,a,l,2),n!==null&&ln(n,t,2)}function To(t){var n=t.alternate;return t===At||n!==null&&n===At}function Fg(t,n){as=mo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Qg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ks(t,a)}}var wl={readContext:qe,use:yo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};wl.useEffectEvent=oe;var Yg={readContext:qe,use:yo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Ig,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,vo(4194308,4,xg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return vo(4194308,4,t,n)},useInsertionEffect:function(t,n){vo(4,2,t,n)},useMemo:function(t,n){var a=We();n=n===void 0?null:n;var l=t();if(dr){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=We();if(a!==void 0){var h=a(n);if(dr){_n(!0);try{a(n)}finally{_n(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=W0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Bh(t);var n=t.queue,a=Gg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:qh,useDeferredValue:function(t,n){var a=We();return kh(a,t,n)},useTransition:function(){var t=Bh(!1);return t=Pg.bind(null,At,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,h=We();if(xt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(It&127)!==0||mg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ig(pg.bind(null,l,f,t),[t]),l.flags|=2048,ss(9,{destroy:void 0},gg.bind(null,l,f,a,n),null),a},useId:function(){var t=We(),n=Jt.identifierPrefix;if(xt){var a=di,l=fi;a=(l&~(1<<32-he(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=go++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Q0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Gh,useFormState:Rg,useActionState:Rg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fh.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:Uh,useCacheRefresh:function(){return We().memoizedState=J0.bind(null,At)},useEffectEvent:function(t){var n=We(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Qh={readContext:qe,use:yo,useCallback:Lg,useContext:qe,useEffect:jh,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:zg,useReducer:_o,useRef:Vg,useState:function(){return _o(Mi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=me();return Bg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=_o(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:dg,useId:kg,useHostTransitionStatus:Gh,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var a=me();return vg(a,Xt,t,n)},useMemoCache:Uh,useCacheRefresh:Hg};Qh.useEffectEvent=Ng;var Kg={readContext:qe,use:yo,useCallback:Lg,useContext:qe,useEffect:jh,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:zg,useReducer:zh,useRef:Vg,useState:function(){return zh(Mi)},useDebugValue:qh,useDeferredValue:function(t,n){var a=me();return Xt===null?kh(a,t,n):Bg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=zh(Mi)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:dg,useId:kg,useHostTransitionStatus:Gh,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,n){var a=me();return Xt!==null?vg(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uh,useCacheRefresh:Hg};Kg.useEffectEvent=Ng;function Yh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:S({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=yn(),h=fa(l);h.payload=n,a!=null&&(h.callback=a),n=da(t,h,l),n!==null&&(ln(n,t,l),Tl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=yn(),h=fa(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=da(t,h,l),n!==null&&(ln(n,t,l),Tl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=yn(),l=fa(a);l.tag=2,n!=null&&(l.callback=n),n=da(t,l,a),n!==null&&(ln(n,t,a),Tl(n,t,a))}};function Xg(t,n,a,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(h,f):!0}function $g(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Kh.enqueueReplaceState(n,n.state,null)}function mr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Zg(t){Ju(t)}function Jg(t){console.error(t)}function Wg(t){Ju(t)}function Ao(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xh(t,n,a){return a=fa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ao(t,n)},a}function ep(t){return t=fa(t),t.tag=3,t}function np(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){tp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){tp(n,a,l),typeof h!="function"&&(va===null?va=new Set([this]):va.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function tT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Jr(n,a,h,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return Dn===null?xo():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Tf(t,l,h)),!1;case 22:return a.flags|=65536,l===uo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Tf(t,l,h)),!1}throw Error(s(435,a.tag))}return Tf(t,l,h),xo(),!1}if(xt)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==mh&&(t=Error(s(422),{cause:l}),pl(bn(t,a)))):(l!==mh&&(n=Error(s(423),{cause:l}),pl(bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Xh(t.stateNode,l,h),Rh(t,h),ce!==4&&(ce=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Ul===null?Ul=[f]:Ul.push(f),ce!==4&&(ce=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xh(a.stateNode,l,t),Rh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(va===null||!va.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ep(h),np(h,t,a,l),Rh(a,h),!1}a=a.return}while(a!==null);return!1}var $h=Error(s(461)),Se=!1;function ke(t,n,a,l){n.child=t===null?sg(n,null,a,l):fr(n,t.child,a,l)}function ip(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return ur(n),l=Nh(t,n,a,_,f,h),E=Oh(),t!==null&&!Se?(Mh(t,n,h),xi(t,n,h)):(xt&&E&&fh(n),n.flags|=1,ke(t,n,l,h),n.child)}function ap(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!oh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,rp(t,n,f,l,h)):(t=no(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!rf(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(_,l)&&t.ref===n.ref)return xi(t,n,h)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function rp(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(dl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,rf(t,h))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,xi(t,n,h)}return Zh(t,n,a,l,h)}function sp(t,n,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return lp(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&so(n,f!==null?f.cachePool:null),f!==null?og(n,f):wh(),cg(n);else return l=n.lanes=536870912,lp(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(so(n,f.cachePool),og(n,f),ga(),n.memoizedState=null):(t!==null&&so(n,null),wh(),ga());return ke(t,n,h,a),n.child}function Dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function lp(t,n,a,l,h){var f=Th();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&so(n,null),wh(),cg(n),t!==null&&Jr(t,n,l,!0),n.childLanes=h,null}function So(t,n){return n=Ro({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function up(t,n,a){return fr(n,t.child,null,a),t=So(n,n.pendingProps),t.flags|=2,mn(n),n.memoizedState=null,t}function eT(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(xt){if(l.mode==="hidden")return t=So(n,l),n.lanes=536870912,Dl(null,t);if(Vh(n),(t=te)?(t=Ey(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Fm(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw oa(n);return n.lanes=536870912,null}return So(n,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Vh(n),h)if(n.flags&256)n.flags&=-257,n=up(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Jr(t,n,a,!1),h=(a&t.childLanes)!==0,Se||h){if(l=Jt,l!==null&&(_=Xs(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,ar(t,_),ln(l,t,_),$h;xo(),n=up(t,n,a)}else t=f.treeContext,te=Vn(_.nextSibling),je=n,xt=!0,ua=null,wn=!1,t!==null&&Km(n,t),n=So(n,l),n.flags|=4096;return n}return t=Di(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function bo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zh(t,n,a,l,h){return ur(n),a=Nh(t,n,a,l,void 0,h),l=Oh(),t!==null&&!Se?(Mh(t,n,h),xi(t,n,h)):(xt&&l&&fh(n),n.flags|=1,ke(t,n,a,h),n.child)}function op(t,n,a,l,h,f){return ur(n),n.updateQueue=null,a=fg(n,l,a,h),hg(t),l=Oh(),t!==null&&!Se?(Mh(t,n,f),xi(t,n,f)):(xt&&l&&fh(n),n.flags|=1,ke(t,n,a,f),n.child)}function cp(t,n,a,l,h){if(ur(n),n.stateNode===null){var f=Kr,_=a.contextType;typeof _=="object"&&_!==null&&(f=qe(_)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Sh(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?qe(_):Kr,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Yh(n,a,_,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Kh.enqueueReplaceState(f,f.state,null),Sl(n,l,f,h),Al(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=mr(a,E);f.props=w;var B=f.context,G=a.contextType;_=Kr,typeof G=="object"&&G!==null&&(_=qe(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==_)&&$g(n,f,l,_),ha=!1;var P=n.memoizedState;f.state=P,Sl(n,l,f,h),Al(),B=n.memoizedState,E||P!==B||ha?(typeof K=="function"&&(Yh(n,a,K,l),B=n.memoizedState),(w=ha||Xg(n,a,w,l,P,B,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=_,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,bh(t,n),_=n.memoizedProps,G=mr(a,_),f.props=G,K=n.pendingProps,P=f.context,B=a.contextType,w=Kr,typeof B=="object"&&B!==null&&(w=qe(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==K||P!==w)&&$g(n,f,l,w),ha=!1,P=n.memoizedState,f.state=P,Sl(n,l,f,h),Al();var k=n.memoizedState;_!==K||P!==k||ha||t!==null&&t.dependencies!==null&&ao(t.dependencies)?(typeof E=="function"&&(Yh(n,a,E,l),k=n.memoizedState),(G=ha||Xg(n,a,G,l,P,k,w)||t!==null&&t.dependencies!==null&&ao(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,bo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=fr(n,t.child,null,h),n.child=fr(n,null,a,h)):ke(t,n,a,h),n.memoizedState=f.state,t=n.child):t=xi(t,n,h),t}function hp(t,n,a,l){return sr(),n.flags|=256,ke(t,n,a,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(t){return{baseLanes:t,cachePool:tg()}}function tf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=pn),t}function fp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(de.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(xt){if(h?ma(n):ga(),(t=te)?(t=Ey(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:la!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},a=Fm(t),a.return=n,n.child=a,je=n,te=null)):t=null,t===null)throw oa(n);return zf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(ga(),h=n.mode,E=Ro({mode:"hidden",children:E},h),l=rr(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Wh(a),l.childLanes=tf(t,_,a),n.memoizedState=Jh,Dl(null,l)):(ma(n),ef(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ma(n),n.flags&=-257,n=nf(t,n,a)):n.memoizedState!==null?(ga(),n.child=t.child,n.flags|=128,n=null):(ga(),E=l.fallback,h=n.mode,l=Ro({mode:"visible",children:l.children},h),E=rr(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,fr(n,t.child,null,a),l=n.child,l.memoizedState=Wh(a),l.childLanes=tf(t,_,a),n.memoizedState=Jh,n=Dl(null,l));else if(ma(n),zf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,pl({value:l,source:null,stack:null}),n=nf(t,n,a)}else if(Se||Jr(t,n,a,!1),_=(a&t.childLanes)!==0,Se||_){if(_=Jt,_!==null&&(l=Xs(_,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,ar(t,l),ln(_,t,l),$h;Lf(E)||xo(),n=nf(t,n,a)}else Lf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,te=Vn(E.nextSibling),je=n,xt=!0,ua=null,wn=!1,t!==null&&Km(n,t),n=ef(n,l.children),n.flags|=4096);return n}return h?(ga(),E=l.fallback,h=n.mode,w=t.child,B=w.sibling,l=Di(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=Di(B,E):(E=rr(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Dl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Wh(a):(h=E.cachePool,h!==null?(w=Te._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=tg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=tf(t,_,a),n.memoizedState=Jh,Dl(t.child,l)):(ma(n),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ef(t,n){return n=Ro({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Ro(t,n){return t=fn(22,t,null,n),t.lanes=0,t}function nf(t,n,a){return fr(n,t.child,null,a),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),yh(t.return,n,a)}function af(t,n,a,l,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function mp(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var _=de.current,E=(_&2)!==0;if(E?(_=_&1|2,n.flags|=128):_&=1,rt(de,_),ke(t,n,l,a),l=xt?gl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dp(t,a,n);else if(t.tag===19)dp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&fo(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),af(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&fo(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}af(n,!0,a,null,f,l);break;case"together":af(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function xi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),_a|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Jr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function rf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ao(t)))}function nT(t,n,a){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),ca(n,Te,t.memoizedState.cache),sr();break;case 27:case 5:ja(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:ca(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Vh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ma(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fp(t,n,a):(ma(n),t=xi(t,n,a),t!==null?t.sibling:null);ma(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Jr(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return mp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(de,de.current),l)break;return null;case 22:return n.lanes=0,sp(t,n,a,n.pendingProps);case 24:ca(n,Te,t.memoizedState.cache)}return xi(t,n,a)}function gp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!rf(t,a)&&(n.flags&128)===0)return Se=!1,nT(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,xt&&(n.flags&1048576)!==0&&Ym(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=cr(n.elementType),n.type=t,typeof t=="function")oh(t)?(l=mr(t,l),n.tag=1,n=cp(null,n,t,l,a)):(n.tag=0,n=Zh(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Rt){n.tag=11,n=ip(null,n,t,l,a);break t}else if(h===D){n.tag=14,n=ap(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return Zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=mr(l,n.pendingProps),cp(t,n,l,h,a);case 3:t:{if(Ve(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,bh(t,n),Sl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,ca(n,Te,l),l!==f.cache&&_h(n,[Te],a,!0),Al(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hp(t,n,l,a);break t}else if(l!==h){h=bn(Error(s(424)),n),pl(h),n=hp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(te=Vn(t.firstChild),je=n,xt=!0,ua=null,wn=!0,a=sg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sr(),l===h){n=xi(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return bo(t,n),t===null?(a=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=a:xt||(a=n.type,t=n.pendingProps,l=qo(St.current).createElement(a),l[_e]=n,l[xe]=t,He(l,a,t),ve(l),n.stateNode=l):n.memoizedState=Cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ja(n),t===null&&xt&&(l=n.stateNode=Sy(n.type,n.pendingProps,St.current),je=n,wn=!0,h=te,Sa(n.type)?(Bf=h,te=Vn(l.firstChild)):te=h),ke(t,n,n.pendingProps.children,a),bo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&xt&&((h=l=te)&&(l=OT(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,je=n,te=Vn(l.firstChild),wn=!1,h=!0):h=!1),h||oa(n)),ja(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Mf(h,f)?l=null:_!==null&&Mf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Nh(t,n,Y0,null,null,a),Hl._currentValue=h),bo(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&xt&&((t=a=te)&&(a=MT(a,n.pendingProps,wn),a!==null?(n.stateNode=a,je=n,te=null,t=!0):t=!1),t||oa(n)),null;case 13:return fp(t,n,a);case 4:return Ve(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=fr(n,null,l,a):ke(t,n,l,a),n.child;case 11:return ip(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ca(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ur(n),h=qe(h),l=l(h),n.flags|=1,ke(t,n,l,a),n.child;case 14:return ap(t,n,n.type,n.pendingProps,a);case 15:return rp(t,n,n.type,n.pendingProps,a);case 19:return mp(t,n,a);case 31:return eT(t,n,a);case 22:return sp(t,n,a,n.pendingProps);case 24:return ur(n),l=qe(Te),t===null?(h=Th(),h===null&&(h=Jt,f=vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Sh(n),ca(n,Te,h)):((t.lanes&a)!==0&&(bh(t,n),Sl(n,null,null,a),Al()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ca(n,Te,l)):(l=f.cache,ca(n,Te,l),l!==h.cache&&_h(n,[Te],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(t){t.flags|=4}function sf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(kp())t.flags|=8192;else throw hr=uo,Ah}else t.flags&=-16777217}function pp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ny(n))if(kp())t.flags|=8192;else throw hr=uo,Ah}function Co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nu():536870912,t.lanes|=n,cs|=n)}function Vl(t,n){if(!xt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function iT(t,n,a){var l=n.pendingProps;switch(dh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(Te),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zr(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ui(n),f!==null?(ee(n),pp(n,f)):(ee(n),sf(n,h,null,l,a))):f?f!==t.memoizedState?(Ui(n),ee(n),pp(n,f)):(ee(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ui(n),ee(n),sf(n,h,t,l,a)),null;case 27:if(Vr(n),a=St.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ot.current,Zr(n)?Xm(n):(t=Sy(h,l,a),n.stateNode=t,Ui(n))}return ee(n),null;case 5:if(Vr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(f=ot.current,Zr(n))Xm(n);else{var _=qo(St.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}f[_e]=n,f[xe]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ui(n)}}return ee(n),sf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,Zr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fy(t.nodeValue,a)),t||oa(n,!0)}else t=qo(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ee(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Zr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[_e]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),t=!1}else a=gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else sr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=gh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Co(n,n.updateQueue),ee(n),null);case 4:return ae(),t===null&&Df(n.stateNode.containerInfo),ee(n),null;case 10:return Ni(n.type),ee(n),null;case 19:if(X(de),l=n.memoizedState,l===null)return ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Vl(l,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=fo(t),f!==null){for(n.flags|=128,Vl(l,!1),t=f.updateQueue,n.updateQueue=t,Co(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Gm(a,t),a=a.sibling;return rt(de,de.current&1|2),xt&&Vi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>No&&(n.flags|=128,h=!0,Vl(l,!1),n.lanes=4194304)}else{if(!h)if(t=fo(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Co(n,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!xt)return ee(n),null}else 2*Ze()-l.renderingStartTime>No&&a!==536870912&&(n.flags|=128,h=!0,Vl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=de.current,rt(de,h?a&1|2:a&1),xt&&Vi(n,l.treeForkCount),t):(ee(n),null);case 22:case 23:return mn(n),Dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&Co(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(or),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function aT(t,n){switch(dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ni(Te),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Vr(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(s(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(de),null;case 4:return ae(),null;case 10:return Ni(n.type),null;case 22:case 23:return mn(n),Dh(),t!==null&&X(or),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ni(Te),null;case 25:return null;default:return null}}function yp(t,n){switch(dh(n),n.tag){case 3:Ni(Te),ae();break;case 26:case 27:case 5:Vr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:X(de);break;case 10:Ni(n.type);break;case 22:case 23:mn(n),Dh(),t!==null&&X(or);break;case 24:Ni(Te)}}function Il(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function pa(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var w=a,B=E;try{B()}catch(G){Yt(h,w,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function _p(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{ug(n,a)}catch(l){Yt(t,t.return,l)}}}function vp(t,n,a){a.props=mr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Nl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Yt(t,n,h)}}function mi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function Ep(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function lf(t,n,a){try{var l=t.stateNode;CT(l,t.type,a,n),l[xe]=n}catch(h){Yt(t,t.return,h)}}function Tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sa(t.type)||t.tag===4}function uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zn));else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(of(t,n,a),t=t.sibling;t!==null;)of(t,n,a),t=t.sibling}function wo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Sa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wo(t,n,a),t=t.sibling;t!==null;)wo(t,n,a),t=t.sibling}function Ap(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[_e]=t,n[xe]=a}catch(f){Yt(t,t.return,f)}}var Li=!1,be=!1,cf=!1,Sp=typeof WeakSet=="function"?WeakSet:Set,Le=null;function rT(t,n){if(t=t.containerInfo,Nf=Ko,t=Um(t),nh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var _=0,E=-1,w=-1,B=0,G=0,K=t,P=null;e:for(;;){for(var k;K!==a||h!==0&&K.nodeType!==3||(E=_+h),K!==f||l!==0&&K.nodeType!==3||(w=_+l),K.nodeType===3&&(_+=K.nodeValue.length),(k=K.firstChild)!==null;)P=K,K=k;for(;;){if(K===t)break e;if(P===a&&++B===h&&(E=_),P===f&&++G===l&&(w=_),(k=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=k}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:t,selectionRange:a},Ko=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=mr(a.type,h);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Uf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function bp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Bi(t,a),l&4&&Il(5,a);break;case 1:if(Bi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=mr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&_p(a),l&512&&Nl(a,a.return);break;case 3:if(Bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ug(t,n)}catch(_){Yt(a,a.return,_)}}break;case 27:n===null&&l&4&&Ap(a);case 26:case 5:Bi(t,a),n===null&&l&4&&Ep(a),l&512&&Nl(a,a.return);break;case 12:Bi(t,a);break;case 31:Bi(t,a),l&4&&wp(t,a);break;case 13:Bi(t,a),l&4&&Dp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mT.bind(null,a),xT(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){n=n!==null&&n.memoizedState!==null||be,h=Li;var f=be;Li=l,(be=n)&&!f?Pi(t,a,(a.subtreeFlags&8772)!==0):Bi(t,a),Li=h,be=f}break;case 30:break;default:Bi(t,a)}}function Rp(t){var n=t.alternate;n!==null&&(t.alternate=null,Rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,nn=!1;function zi(t,n,a){for(a=a.child;a!==null;)Cp(t,n,a),a=a.sibling}function Cp(t,n,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:be||mi(a,n),zi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:be||mi(a,n);var l=se,h=nn;Sa(a.type)&&(se=a.stateNode,nn=!1),zi(t,n,a),jl(a.stateNode),se=l,nn=h;break;case 5:be||mi(a,n);case 6:if(l=se,h=nn,se=null,zi(t,n,a),se=l,nn=h,se!==null)if(nn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:se!==null&&(nn?(t=se,_y(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_s(t)):_y(se,a.stateNode));break;case 4:l=se,h=nn,se=a.stateNode.containerInfo,nn=!0,zi(t,n,a),se=l,nn=h;break;case 0:case 11:case 14:case 15:pa(2,a,n),be||pa(4,a,n),zi(t,n,a);break;case 1:be||(mi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vp(a,n,l)),zi(t,n,a);break;case 21:zi(t,n,a);break;case 22:be=(l=be)||a.memoizedState!==null,zi(t,n,a),be=l;break;default:zi(t,n,a)}}function wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_s(t)}catch(a){Yt(n,n.return,a)}}}function Dp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_s(t)}catch(a){Yt(n,n.return,a)}}function sT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sp),n;default:throw Error(s(435,t.tag))}}function Do(t,n){var a=sT(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=gT.bind(null,t,l);l.then(h,h)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(Sa(E.type)){se=E.stateNode,nn=!1;break t}break;case 5:se=E.stateNode,nn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Cp(f,_,h),se=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Vp(n,t),n=n.sibling}var Hn=null;function Vp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),rn(t),l&4&&(pa(3,t,t.return),Il(3,t),pa(5,t,t.return));break;case 1:an(n,t),rn(t),l&512&&(be||a===null||mi(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(an(n,t),rn(t),l&512&&(be||a===null||mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ti]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[_e]=t,ve(f),l=f;break t;case"link":var _=Vy("link","href",h).get(l+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(_=Vy("meta","content",h).get(l+(a.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[_e]=t,ve(f),l=f}t.stateNode=l}else Iy(h,t.type,t.stateNode);else t.stateNode=Dy(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Iy(h,t.type,t.stateNode):Dy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),rn(t),l&512&&(be||a===null||mi(a,a.return)),a!==null&&l&4&&lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),rn(t),l&512&&(be||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{en(h,"")}catch(ct){Yt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,lf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(cf=!0);break;case 6:if(an(n,t),rn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ct){Yt(t,t.return,ct)}}break;case 3:if(Go=null,h=Hn,Hn=ko(n.containerInfo),an(n,t),Hn=h,rn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_s(n.containerInfo)}catch(ct){Yt(t,t.return,ct)}cf&&(cf=!1,Ip(t));break;case 4:l=Hn,Hn=ko(t.stateNode.containerInfo),an(n,t),rn(t),Hn=l;break;case 12:an(n,t),rn(t);break;case 31:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Do(t,l)));break;case 13:an(n,t),rn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Io=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Do(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Li,G=be;if(Li=B||h,be=G||w,an(n,t),be=G,Li=B,rn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Li||be||gr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=w.stateNode;var K=w.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ct){Yt(w,w.return,ct)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ct){Yt(w,w.return,ct)}}}else if(n.tag===18){if(a===null){w=n;try{var k=w.stateNode;h?vy(k,!0):vy(w.stateNode,!1)}catch(ct){Yt(w,w.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Do(t,a))));break;case 19:an(n,t),rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Do(t,l)));break;case 30:break;case 21:break;default:an(n,t),rn(t)}}function rn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Tp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=uf(t);wo(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(en(_,""),a.flags&=-33);var E=uf(t);wo(t,E,_);break;case 3:case 4:var w=a.stateNode.containerInfo,B=uf(t);of(t,B,w);break;default:throw Error(s(161))}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)bp(t,n.alternate,n),n=n.sibling}function gr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pa(4,n,n.return),gr(n);break;case 1:mi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vp(n,n.return,a),gr(n);break;case 27:jl(n.stateNode);case 26:case 5:mi(n,n.return),gr(n);break;case 22:n.memoizedState===null&&gr(n);break;case 30:gr(n);break;default:gr(n)}t=t.sibling}}function Pi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(h,f,a),Il(4,f);break;case 1:if(Pi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)lg(w[h],E)}catch(B){Yt(l,l.return,B)}}a&&_&64&&_p(f),Nl(f,f.return);break;case 27:Ap(f);case 26:case 5:Pi(h,f,a),a&&l===null&&_&4&&Ep(f),Nl(f,f.return);break;case 12:Pi(h,f,a);break;case 31:Pi(h,f,a),a&&_&4&&wp(h,f);break;case 13:Pi(h,f,a),a&&_&4&&Dp(h,f);break;case 22:f.memoizedState===null&&Pi(h,f,a),Nl(f,f.return);break;case 30:break;default:Pi(h,f,a)}n=n.sibling}}function hf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yl(a))}function ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function Gn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Np(t,n,a,l),n=n.sibling}function Np(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(t,n,a,l),h&2048&&Il(9,n);break;case 1:Gn(t,n,a,l);break;case 3:Gn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){Gn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Gn(t,n,a,l);break;case 31:Gn(t,n,a,l);break;case 13:Gn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(t,n,a,l):Ol(t,n):f._visibility&2?Gn(t,n,a,l):(f._visibility|=2,ls(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&hf(_,n);break;case 24:Gn(t,n,a,l),h&2048&&ff(n.alternate,n);break;default:Gn(t,n,a,l)}}function ls(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,E=a,w=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ls(f,_,E,w,h),Il(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?ls(f,_,E,w,h):Ol(f,_):(G._visibility|=2,ls(f,_,E,w,h)),h&&B&2048&&hf(_.alternate,_);break;case 24:ls(f,_,E,w,h),h&&B&2048&&ff(_.alternate,_);break;default:ls(f,_,E,w,h)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&hf(l.alternate,l);break;case 24:Ol(a,l),h&2048&&ff(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Ml=8192;function us(t,n,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)Op(t,n,a),t=t.sibling}function Op(t,n,a){switch(t.tag){case 26:us(t,n,a),t.flags&Ml&&t.memoizedState!==null&&QT(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:us(t,n,a);break;case 3:case 4:var l=Hn;Hn=ko(t.stateNode.containerInfo),us(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,us(t,n,a),Ml=l):us(t,n,a));break;default:us(t,n,a)}}function Mp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Up(l,t)}Mp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xp(t),t=t.sibling}function xp(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&pa(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Vo(t)):xl(t);break;default:xl(t)}}function Vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,Up(l,t)}Mp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pa(8,n,n.return),Vo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Vo(n));break;default:Vo(n)}t=t.sibling}}function Up(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:pa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(Rp(l),l===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var lT={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Te).controller.signal}},uT=typeof WeakMap=="function"?WeakMap:Map,kt=0,Jt=null,Dt=null,It=0,Qt=0,gn=null,ya=!1,os=!1,df=!1,ji=0,ce=0,_a=0,pr=0,mf=0,pn=0,cs=0,Ul=null,sn=null,gf=!1,Io=0,Lp=0,No=1/0,Oo=null,va=null,Ne=0,Ea=null,hs=null,qi=0,pf=0,yf=null,zp=null,Ll=0,_f=null;function yn(){return(kt&2)!==0&&It!==0?It&-It:F.T!==null?bf():Ou()}function Bp(){if(pn===0)if((It&536870912)===0||xt){var t=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),pn=t}else pn=536870912;return t=dn.current,t!==null&&(t.flags|=32),pn}function ln(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(fs(t,0),Ta(t,It,pn,!1)),Ga(t,a),((kt&2)===0||t!==Jt)&&(t===Jt&&((kt&2)===0&&(pr|=a),ce===4&&Ta(t,It,pn,!1)),gi(t))}function Pp(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||xn(t,n),h=l?hT(t,n):Ef(t,n,!0),f=l;do{if(h===0){os&&!l&&Ta(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!oT(a)){h=Ef(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=t;h=Ul;var w=E.current.memoizedState.isDehydrated;if(w&&(fs(E,_).flags|=256),_=Ef(E,_,!1),_!==2){if(df&&!w){E.errorRecoveryDisabledLanes|=f,pr|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){fs(t,0),Ta(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Ta(l,n,pn,!ya);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Io+300-Ze(),10<h)){if(Ta(l,n,pn,!ya),Zn(l,0,!0)!==0)break t;qi=n,l.timeoutHandle=py(jp.bind(null,l,a,sn,Oo,gf,n,pn,pr,cs,ya,f,"Throttled",-0,0),h);break t}jp(l,a,sn,Oo,gf,n,pn,pr,cs,ya,f,null,-0,0)}}break}while(!0);gi(t)}function jp(t,n,a,l,h,f,_,E,w,B,G,K,P,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zn},Op(n,f,K);var ct=(f&62914560)===f?Io-Ze():(f&4194048)===f?Lp-Ze():0;if(ct=YT(K,ct),ct!==null){qi=f,t.cancelPendingCommit=ct(Kp.bind(null,t,n,f,a,l,h,_,E,w,G,K,null,P,k)),Ta(t,f,_,!B);return}}Kp(t,n,f,a,l,h,_,E,w)}function oT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ta(t,n,a,l){n&=~mf,n&=~pr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-he(h),_=1<<f;l[f]=-1,h&=~_}a!==0&&Fa(t,a,n)}function Mo(){return(kt&6)===0?(zl(0),!1):!0}function vf(){if(Dt!==null){if(Qt===0)var t=Dt.return;else t=Dt,Ii=lr=null,xh(t),ns=null,vl=0,t=Dt;for(;t!==null;)yp(t.alternate,t),t=t.return;Dt=null}}function fs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),qi=0,vf(),Jt=t,Dt=a=Di(t.current,null),It=n,Qt=0,gn=null,ya=!1,os=xn(t,n),df=!1,cs=pn=mf=pr=_a=ce=0,sn=Ul=null,gf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-he(l),f=1<<h;n|=t[h],l&=~f}return ji=n,Wu(),a}function qp(t,n){At=null,F.H=wl,n===es||n===lo?(n=ig(),Qt=3):n===Ah?(n=ig(),Qt=4):Qt=n===$h?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Dt===null&&(ce=1,Ao(t,bn(n,t.current)))}function kp(){var t=dn.current;return t===null?!0:(It&4194048)===It?Dn===null:(It&62914560)===It||(It&536870912)!==0?t===Dn:!1}function Hp(){var t=F.H;return F.H=wl,t===null?wl:t}function Gp(){var t=F.A;return F.A=lT,t}function xo(){ce=4,ya||(It&4194048)!==It&&dn.current!==null||(os=!0),(_a&134217727)===0&&(pr&134217727)===0||Jt===null||Ta(Jt,It,pn,!1)}function Ef(t,n,a){var l=kt;kt|=2;var h=Hp(),f=Gp();(Jt!==t||It!==n)&&(Oo=null,fs(t,n)),n=!1;var _=ce;t:do try{if(Qt!==0&&Dt!==null){var E=Dt,w=gn;switch(Qt){case 8:vf(),_=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var B=Qt;if(Qt=0,gn=null,ds(t,E,w,B),a&&os){_=0;break t}break;default:B=Qt,Qt=0,gn=null,ds(t,E,w,B)}}cT(),_=ce;break}catch(G){qp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ii=lr=null,kt=l,F.H=h,F.A=f,Dt===null&&(Jt=null,It=0,Wu()),_}function cT(){for(;Dt!==null;)Fp(Dt)}function hT(t,n){var a=kt;kt|=2;var l=Hp(),h=Gp();Jt!==t||It!==n?(Oo=null,No=Ze()+500,fs(t,n)):os=xn(t,n);t:do try{if(Qt!==0&&Dt!==null){n=Dt;var f=gn;e:switch(Qt){case 1:Qt=0,gn=null,ds(t,n,f,1);break;case 2:case 9:if(eg(f)){Qt=0,gn=null,Qp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),gi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:eg(f)?(Qt=0,gn=null,Qp(n)):(Qt=0,gn=null,ds(t,n,f,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var E=Dt;if(_?Ny(_):E.stateNode.complete){Qt=0,gn=null;var w=E.sibling;if(w!==null)Dt=w;else{var B=E.return;B!==null?(Dt=B,Uo(B)):Dt=null}break e}}Qt=0,gn=null,ds(t,n,f,5);break;case 6:Qt=0,gn=null,ds(t,n,f,6);break;case 8:vf(),ce=6;break t;default:throw Error(s(462))}}fT();break}catch(G){qp(t,G)}while(!0);return Ii=lr=null,F.H=l,F.A=h,kt=a,Dt!==null?0:(Jt=null,It=0,Wu(),ce)}function fT(){for(;Dt!==null&&!Xc();)Fp(Dt)}function Fp(t){var n=gp(t.alternate,t,ji);t.memoizedProps=t.pendingProps,n===null?Uo(t):Dt=n}function Qp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=op(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=op(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:xh(n);default:yp(a,n),n=Dt=Gm(n,ji),n=gp(a,n,ji)}t.memoizedProps=t.pendingProps,n===null?Uo(t):Dt=n}function ds(t,n,a,l){Ii=lr=null,xh(n),ns=null,vl=0;var h=n.return;try{if(tT(t,h,n,a,It)){ce=1,Ao(t,bn(a,t.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ce=1,Ao(t,bn(a,t.current)),Dt=null;return}n.flags&32768?(xt||l===1?t=!0:os||(It&536870912)!==0?t=!1:(ya=t=!0,(l===2||l===9||l===3||l===6)&&(l=dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yp(n,t)):Uo(n)}function Uo(t){var n=t;do{if((n.flags&32768)!==0){Yp(n,ya);return}t=n.return;var a=iT(n.alternate,n,ji);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ce===0&&(ce=5)}function Yp(t,n){do{var a=aT(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ce=6,Dt=null}function Kp(t,n,a,l,h,f,_,E,w){t.cancelPendingCommit=null;do Lo();while(Ne!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=lh,Jc(t,a,f,_,E,w),t===Jt&&(Dt=Jt=null,It=0),hs=n,Ea=t,qi=a,pf=f,yf=h,zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pT(Zi,function(){return Wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=at.p,at.p=2,_=kt,kt|=4;try{rT(t,n,a)}finally{kt=_,at.p=h,F.T=l}}Ne=1,Xp(),$p(),Zp()}}function Xp(){if(Ne===1){Ne=0;var t=Ea,n=hs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=at.p;at.p=2;var h=kt;kt|=4;try{Vp(n,t);var f=Of,_=Um(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&xm(E.ownerDocument.documentElement,E)){if(w!==null&&nh(E)){var B=w.start,G=w.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var k=P.getSelection(),ct=E.textContent.length,gt=Math.min(w.start,ct),Zt=w.end===void 0?gt:Math.min(w.end,ct);!k.extend&&gt>Zt&&(_=Zt,Zt=gt,gt=_);var x=Mm(E,gt),N=Mm(E,Zt);if(x&&N&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==N.node||k.focusOffset!==N.offset)){var z=K.createRange();z.setStart(x.node,x.offset),k.removeAllRanges(),gt>Zt?(k.addRange(z),k.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),k.addRange(z))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ko=!!Nf,Of=Nf=null}finally{kt=h,at.p=l,F.T=a}}t.current=n,Ne=2}}function $p(){if(Ne===2){Ne=0;var t=Ea,n=hs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=at.p;at.p=2;var h=kt;kt|=4;try{bp(t,n.alternate,n)}finally{kt=h,at.p=l,F.T=a}}Ne=3}}function Zp(){if(Ne===4||Ne===3){Ne=0,Ru();var t=Ea,n=hs,a=qi,l=zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,hs=Ea=null,Jp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(va=null),bi(a),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=at.p,at.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{F.T=n,at.p=h}}(qi&3)!==0&&Lo(),gi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===_f?Ll++:(Ll=0,_f=t):Ll=0,zl(0)}}function Jp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function Lo(){return Xp(),$p(),Zp(),Wp()}function Wp(){if(Ne!==5)return!1;var t=Ea,n=pf;pf=0;var a=bi(qi),l=F.T,h=at.p;try{at.p=32>a?32:a,F.T=null,a=yf,yf=null;var f=Ea,_=qi;if(Ne=0,hs=Ea=null,qi=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,xp(f.current),Np(f,f.current,_,a),kt=E,zl(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{at.p=h,F.T=l,Jp(t,n)}}function ty(t,n,a){n=bn(a,n),n=Xh(t.stateNode,n,2),t=da(t,n,2),t!==null&&(Ga(t,2),gi(t))}function Yt(t,n,a){if(t.tag===3)ty(t,t,a);else for(;n!==null;){if(n.tag===3){ty(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(va===null||!va.has(l))){t=bn(a,t),a=ep(2),l=da(n,a,2),l!==null&&(np(a,l,n,t),Ga(l,2),gi(l));break}}n=n.return}}function Tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(df=!0,h.add(a),t=dT.bind(null,t,n,a),n.then(t,t))}function dT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(It&a)===a&&(ce===4||ce===3&&(It&62914560)===It&&300>Ze()-Io?(kt&2)===0&&fs(t,0):mf|=a,cs===It&&(cs=0)),gi(t)}function ey(t,n){n===0&&(n=Nu()),t=ar(t,n),t!==null&&(Ga(t,n),gi(t))}function mT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ey(t,a)}function gT(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ey(t,a)}function pT(t,n){return Ie(t,n)}var zo=null,ms=null,Af=!1,Bo=!1,Sf=!1,Aa=0;function gi(t){t!==ms&&t.next===null&&(ms===null?zo=ms=t:ms=ms.next=t),Bo=!0,Af||(Af=!0,_T())}function zl(t,n){if(!Sf&&Bo){Sf=!0;do for(var a=!1,l=zo;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-he(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ry(l,f))}else f=It,f=Zn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xn(l,f)||(a=!0,ry(l,f));l=l.next}while(a);Sf=!1}}function yT(){ny()}function ny(){Bo=Af=!1;var t=0;Aa!==0&&DT()&&(t=Aa);for(var n=Ze(),a=null,l=zo;l!==null;){var h=l.next,f=iy(l,n);f===0?(l.next=null,a===null?zo=h:a.next=h,h===null&&(ms=a)):(a=l,(t!==0||(f&3)!==0)&&(Bo=!0)),l=h}Ne!==0&&Ne!==5||zl(t),Aa!==0&&(Aa=0)}function iy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-he(f),E=1<<_,w=h[_];w===-1?((E&a)===0||(E&l)!==0)&&(h[_]=Zc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=It,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&$i(l),bi(a)){case 2:case 8:a=Ys;break;case 32:a=Zi;break;case 268435456:a=Cu;break;default:a=Zi}return l=ay.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&$i(l),t.callbackPriority=2,t.callbackNode=null,2}function ay(t,n){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lo()&&t.callbackNode!==a)return null;var l=It;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pp(t,l,n),iy(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?ay.bind(null,t):null)}function ry(t,n){if(Lo())return null;Pp(t,n,!0)}function _T(){IT(function(){(kt&6)!==0?Ie(Qs,yT):ny()})}function bf(){if(Aa===0){var t=Wr;t===0&&(t=Xn,Xn<<=1,(Xn&261888)===0&&(Xn=256)),Aa=t}return Aa}function sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Br(""+t)}function ly(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=sy((h[xe]||null).action),_=l.submitter;_&&(n=(n=_[xe]||null)?sy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new ui("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var w=_?ly(h,_):new FormData(h);Hh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=_?ly(h,_):new FormData(h),Hh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Rf=0;Rf<sh.length;Rf++){var Cf=sh[Rf],ET=Cf.toLowerCase(),TT=Cf[0].toUpperCase()+Cf.slice(1);kn(ET,"on"+TT)}kn(Bm,"onAnimationEnd"),kn(Pm,"onAnimationIteration"),kn(jm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(z0,"onTransitionRun"),kn(B0,"onTransitionStart"),kn(P0,"onTransitionCancel"),kn(qm,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function uy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(G){Ju(G)}h.currentTarget=null,f=w}else for(_=0;_<l.length;_++){if(E=l[_],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(G){Ju(G)}h.currentTarget=null,f=w}}}}function Vt(t,n){var a=n[Mr];a===void 0&&(a=n[Mr]=new Set);var l=t+"__bubble";a.has(l)||(oy(n,t,2,!1),a.add(l))}function wf(t,n,a){var l=0;n&&(l|=4),oy(a,t,l,n)}var Po="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[Po]){t[Po]=!0,$s.forEach(function(a){a!=="selectionchange"&&(AT.has(a)||wf(a,!1,t),wf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Po]||(n[Po]=!0,wf("selectionchange",!1,n))}}function oy(t,n,a,l){switch(By(n)){case 2:var h=$T;break;case 8:h=ZT;break;default:h=Hf}a=h.bind(null,n,a,t),h=void 0,!$a||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Vf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=ei(E),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=f=_;continue t}E=E.parentNode}}l=l.return}ia(function(){var B=f,G=En(a),K=[];t:{var P=km.get(t);if(P!==void 0){var k=ui,ct=t;switch(t){case"keypress":if(Ja(a)===0)break t;case"keydown":case"keyup":k=Xu;break;case"focusin":ct="focus",k=tr;break;case"focusout":ct="blur",k=tr;break;case"beforeblur":case"afterblur":k=tr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=m;break;case Bm:case Pm:case jm:k=ku;break;case qm:k=A;break;case"scroll":case"scrollend":k=ul;break;case"wheel":k=q;break;case"copy":case"cut":case"paste":k=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=wi;break;case"toggle":case"beforetoggle":k=Tt}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),x=gt?P!==null?P+"Capture":null:P;gt=[];for(var N=B,z;N!==null;){var Y=N;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||x===null||(Y=Bn(N,x),Y!=null&&gt.push(Pl(N,Y,z))),Zt)break;N=N.return}0<gt.length&&(P=new k(P,ct,null,a,G),K.push({event:P,listeners:gt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",P&&a!==rl&&(ct=a.relatedTarget||a.fromElement)&&(ei(ct)||ct[Wn]))break t;if((k||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,k?(ct=a.relatedTarget||a.toElement,k=B,ct=ct?ei(ct):null,ct!==null&&(Zt=c(ct),gt=ct.tag,ct!==Zt||gt!==5&&gt!==27&&gt!==6)&&(ct=null)):(k=null,ct=B),k!==ct)){if(gt=ol,Y="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=wi,Y="onPointerLeave",x="onPointerEnter",N="pointer"),Zt=k==null?P:on(k),z=ct==null?P:on(ct),P=new gt(Y,N+"leave",k,a,G),P.target=Zt,P.relatedTarget=z,Y=null,ei(G)===B&&(gt=new gt(x,N+"enter",ct,a,G),gt.target=z,gt.relatedTarget=Zt,Y=gt),Zt=Y,k&&ct)e:{for(gt=ST,x=k,N=ct,z=0,Y=x;Y;Y=gt(Y))z++;Y=0;for(var ft=N;ft;ft=gt(ft))Y++;for(;0<z-Y;)x=gt(x),z--;for(;0<Y-z;)N=gt(N),Y--;for(;z--;){if(x===N||N!==null&&x===N.alternate){gt=x;break e}x=gt(x),N=gt(N)}gt=null}else gt=null;k!==null&&cy(K,P,k,gt,!1),ct!==null&&Zt!==null&&cy(K,Zt,ct,gt,!0)}}t:{if(P=B?on(B):window,k=P.nodeName&&P.nodeName.toLowerCase(),k==="select"||k==="input"&&P.type==="file")var Pt=wm;else if(Rm(P))if(Dm)Pt=x0;else{Pt=O0;var ht=N0}else k=P.nodeName,!k||k.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&zr(B.elementType)&&(Pt=wm):Pt=M0;if(Pt&&(Pt=Pt(t,B))){Cm(K,Pt,a,G);break t}ht&&ht(t,P,B),t==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&nl(P,"number",P.value)}switch(ht=B?on(B):window,t){case"focusin":(Rm(ht)||ht.contentEditable==="true")&&(Fr=ht,ih=B,ml=null);break;case"focusout":ml=ih=Fr=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Lm(K,a,G);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":Lm(K,a,G)}var bt;if(qt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Gr?er(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(hi&&a.locale!=="ko"&&(Gr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Gr&&(bt=ll()):(li=G,sl="value"in li?li.value:li.textContent,Gr=!0)),ht=jo(B,Nt),0<ht.length&&(Nt=new ci(Nt,t,null,a,G),K.push({event:Nt,listeners:ht}),bt?Nt.data=bt:(bt=Hr(a),bt!==null&&(Nt.data=bt)))),(bt=An?w0(t,a):D0(t,a))&&(Nt=jo(B,"onBeforeInput"),0<Nt.length&&(ht=new ci("onBeforeInput","beforeinput",null,a,G),K.push({event:ht,listeners:Nt}),ht.data=bt)),vT(K,t,B,a,G)}uy(K,n)})}function Pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function jo(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Bn(t,a),h!=null&&l.unshift(Pl(t,h,f)),h=Bn(t,n),h!=null&&l.push(Pl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ST(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cy(t,n,a,l,h){for(var f=n._reactName,_=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,h?(B=Bn(a,f),B!=null&&_.unshift(Pl(a,B,w))):h||(B=Bn(a,f),B!=null&&_.push(Pl(a,B,w)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var bT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(bT,`
`).replace(RT,"")}function fy(t,n){return n=hy(n),hy(t)===n}function $t(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":cn(t,"class",l);break;case"tabIndex":cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(t,a,l);break;case"style":al(t,l,f);break;case"data":if(n!=="object"){cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Br(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Br(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zn);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Br(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Ur(t,"popover",l);break;case"xlinkActuate":Ee(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ee(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ee(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ee(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ee(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ee(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ee(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ur(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,Ur(t,a,l))}}function If(t,n,a,l,h,f){switch(a){case"style":al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ur(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,_,a,null)}}h&&$t(t,n,"srcSet",a.srcSet,a,null),l&&$t(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=_=h=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":w=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:$t(t,n,l,G,a,null)}}Lu(t,f,E,w,B,_,h,!1);return;case"select":Vt("invalid",t),l=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:$t(t,n,h,E,a,null)}n=f,a=_,t.multiple=!!l,n!=null?Wi(t,!!l,n,!1):a!=null&&Wi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$t(t,n,_,E,a,null)}ta(t,l,h,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,w,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Vt(Bl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,B,l,a,null)}return;default:if(zr(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&If(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$t(t,n,E,l,a,null))}function CT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,w=null,B=null,G=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=K;default:l.hasOwnProperty(k)||$t(t,n,k,null,l,K)}}for(var P in l){var k=l[P];if(K=a[P],l.hasOwnProperty(P)&&(k!=null||K!=null))switch(P){case"type":f=k;break;case"name":h=k;break;case"checked":B=k;break;case"defaultChecked":G=k;break;case"value":_=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&$t(t,n,P,k,l,K)}}Lr(t,_,E,w,B,G,f,h);return;case"select":k=_=E=P=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==w&&$t(t,n,h,f,l,w)}n=E,a=_,l=k,P!=null?Wi(t,!!a,P,!1):!!l!=!!a&&(n!=null?Wi(t,!!a,n,!0):Wi(t,!!a,a?[]:"",!1));return;case"textarea":k=P=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(t,n,E,null,l,h)}for(_ in l)if(h=l[_],f=a[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":P=h;break;case"defaultValue":k=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,_,h,l,f)}zu(t,P,k);return;case"option":for(var ct in a)if(P=a[ct],a.hasOwnProperty(ct)&&P!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:$t(t,n,ct,null,l,P)}for(w in l)if(P=l[w],k=a[w],l.hasOwnProperty(w)&&P!==k&&(P!=null||k!=null))switch(w){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:$t(t,n,w,P,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)P=a[gt],a.hasOwnProperty(gt)&&P!=null&&!l.hasOwnProperty(gt)&&$t(t,n,gt,null,l,P);for(B in l)if(P=l[B],k=a[B],l.hasOwnProperty(B)&&P!==k&&(P!=null||k!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:$t(t,n,B,P,l,k)}return;default:if(zr(n)){for(var Zt in a)P=a[Zt],a.hasOwnProperty(Zt)&&P!==void 0&&!l.hasOwnProperty(Zt)&&If(t,n,Zt,void 0,l,P);for(G in l)P=l[G],k=a[G],!l.hasOwnProperty(G)||P===k||P===void 0&&k===void 0||If(t,n,G,P,l,k);return}}for(var x in a)P=a[x],a.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&$t(t,n,x,null,l,P);for(K in l)P=l[K],k=a[K],!l.hasOwnProperty(K)||P===k||P==null&&k==null||$t(t,n,K,P,l,k)}function dy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,_=h.initiatorType,E=h.duration;if(f&&E&&dy(_)){for(_=0,E=h.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var G=w.transferSize,K=w.initiatorType;G&&dy(K)&&(w=w.responseEnd,_+=G*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nf=null,Of=null;function qo(t){return t.nodeType===9?t:t.ownerDocument}function my(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function DT(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var py=typeof setTimeout=="function"?setTimeout:void 0,VT=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(t){return yy.resolve(null).then(t).catch(NT)}:py;function NT(t){setTimeout(function(){throw t})}function Sa(t){return t==="head"}function _y(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),_s(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")jl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,jl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,E=f.nodeName;f[ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&jl(t.ownerDocument.body);a=h}while(a);_s(n)}function vy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uf(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function MT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function Ey(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Vn(t.nextSibling),t===null))return null;return t}function Lf(t){return t.data==="$?"||t.data==="$~"}function zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Bf=null;function Ty(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Vn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Sy(t,n,a){switch(n=qo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function jl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xr(t)}var In=new Map,by=new Set;function ko(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=at.d;at.d={f:UT,r:LT,D:zT,C:BT,L:PT,m:jT,X:kT,S:qT,M:HT};function UT(){var t=ki.f(),n=Mo();return t||n}function LT(t){var n=vn(t);n!==null&&n.tag===5&&n.type==="form"?qg(n):ki.r(t)}var gs=typeof document>"u"?null:document;function Ry(t,n,a){var l=gs;if(l&&typeof n=="string"&&n){var h=tn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),by.has(h)||(by.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function zT(t){ki.D(t),Ry("dns-prefetch",t,null)}function BT(t,n){ki.C(t,n),Ry("preconnect",t,n)}function PT(t,n,a){ki.L(t,n,a);var l=gs;if(l&&t&&n){var h='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+tn(a.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var f=h;switch(n){case"style":f=ps(t);break;case"script":f=ys(t)}In.has(f)||(t=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(ql(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),He(n,"link",t),ve(n),l.head.appendChild(n)))}}function jT(t,n){ki.m(t,n);var a=gs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ys(t)}if(!In.has(f)&&(t=S({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}l=a.createElement("link"),He(l,"link",t),ve(l),a.head.appendChild(l)}}}function qT(t,n,a){ki.S(t,n,a);var l=gs;if(l&&t){var h=ni(l).hoistableStyles,f=ps(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(ql(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Pf(t,a);var w=_=l.createElement("link");ve(w),He(w,"link",t),w._p=new Promise(function(B,G){w.onload=B,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ho(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function kT(t,n){ki.X(t,n);var a=gs;if(a&&t){var l=ni(a).hoistableScripts,h=ys(t),f=l.get(h);f||(f=a.querySelector(kl(h)),f||(t=S({src:t,async:!0},n),(n=In.get(h))&&jf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function HT(t,n){ki.M(t,n);var a=gs;if(a&&t){var l=ni(a).hoistableScripts,h=ys(t),f=l.get(h);f||(f=a.querySelector(kl(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=In.get(h))&&jf(t,n),f=a.createElement("script"),ve(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Cy(t,n,a,l){var h=(h=St.current)?ko(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ps(a.href),a=ni(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ps(a.href);var f=ni(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(ql(t)))&&!f._p&&(_.instance=f,_.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||GT(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ys(a),a=ni(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ps(t){return'href="'+tn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function wy(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function GT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),ve(n),t.head.appendChild(n))}function ys(t){return'[src="'+tn(t)+'"]'}function kl(t){return"script[async]"+t}function Dy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,ve(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ve(l),He(l,"style",h),Ho(l,a.precedence,t),n.instance=l;case"stylesheet":h=ps(a.href);var f=t.querySelector(ql(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;l=wy(a),(h=In.get(h))&&Pf(l,h),f=(t.ownerDocument||t).createElement("link"),ve(f);var _=f;return _._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),He(f,"link",l),n.state.loading|=4,Ho(f,a.precedence,t),n.instance=f;case"script":return f=ys(a.src),(h=t.querySelector(kl(f)))?(n.instance=h,ve(h),h):(l=a,(h=In.get(f))&&(l=S({},a),jf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ve(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ho(l,a.precedence,t));return n.instance}function Ho(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Go=null;function Vy(t,n,a){if(Go===null){var l=new Map,h=Go=new Map;h.set(a,l)}else h=Go,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ti]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Iy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function FT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ny(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function QT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ps(l.href),f=n.querySelector(ql(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Fo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ve(f);return}f=n.ownerDocument||n,l=wy(l),(h=In.get(h))&&Pf(l,h),f=f.createElement("link"),ve(f);var _=f;_._p=new Promise(function(E,w){_.onload=E,_.onerror=w}),He(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Fo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var qf=0;function YT(t,n){return t.stylesheets&&t.count===0&&Yo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Yo(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&qf===0&&(qf=62500*wT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yo(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>qf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Fo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qo=null;function Yo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qo=new Map,n.forEach(KT,t),Qo=null,Fo.call(t))}function KT(t,n){if(!(n.state.loading&4)){var a=Qo.get(t);if(a)var l=a.get(null);else{a=new Map,Qo.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,h),a.set(_,h),this.count++,l=Fo.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:st,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function XT(t,n,a,l,h,f,_,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Oy(t,n,a,l,h,f,_,E,w,B,G,K){return t=new XT(t,n,a,_,w,B,G,K,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=vh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Sh(f),t}function My(t){return t?(t=Kr,t):Kr}function xy(t,n,a,l,h,f){h=My(h),l.context===null?l.context=h:l.pendingContext=h,l=fa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=da(t,l,n),a!==null&&(ln(a,t,n),Tl(a,t,n))}function Uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kf(t,n){Uy(t,n),(t=t.alternate)&&Uy(t,n)}function Ly(t){if(t.tag===13||t.tag===31){var n=ar(t,67108864);n!==null&&ln(n,t,67108864),kf(t,67108864)}}function zy(t){if(t.tag===13||t.tag===31){var n=yn();n=Qa(n);var a=ar(t,n);a!==null&&ln(a,t,n),kf(t,n)}}var Ko=!0;function $T(t,n,a,l){var h=F.T;F.T=null;var f=at.p;try{at.p=2,Hf(t,n,a,l)}finally{at.p=f,F.T=h}}function ZT(t,n,a,l){var h=F.T;F.T=null;var f=at.p;try{at.p=8,Hf(t,n,a,l)}finally{at.p=f,F.T=h}}function Hf(t,n,a,l){if(Ko){var h=Gf(l);if(h===null)Vf(t,n,l,Xo,a),Py(t,l);else if(WT(h,t,n,a,l))l.stopPropagation();else if(Py(t,l),n&4&&-1<JT.indexOf(t)){for(;h!==null;){var f=vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=$n(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var w=1<<31-he(_);E.entanglements[1]|=w,_&=~w}gi(f),(kt&6)===0&&(No=Ze()+500,zl(0))}}break;case 31:case 13:E=ar(f,2),E!==null&&ln(E,f,2),Mo(),kf(f,2)}if(f=Gf(l),f===null&&Vf(t,n,l,Xo,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Vf(t,n,l,null,a)}}function Gf(t){return t=En(t),Ff(t)}var Xo=null;function Ff(t){if(Xo=null,t=ei(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Xo=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Qs:return 2;case Ys:return 8;case Zi:case $c:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Qf=!1,ba=null,Ra=null,Ca=null,Gl=new Map,Fl=new Map,wa=[],JT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Py(t,n){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Ql(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=vn(n),n!==null&&Ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function WT(t,n,a,l,h){switch(n){case"focusin":return ba=Ql(ba,t,n,a,l,h),!0;case"dragenter":return Ra=Ql(Ra,t,n,a,l,h),!0;case"mouseover":return Ca=Ql(Ca,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Gl.set(f,Ql(Gl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Ql(Fl.get(f)||null,t,n,a,l,h)),!0}return!1}function jy(t){var n=ei(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Un(t.priority,function(){zy(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Un(t.priority,function(){zy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Gf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return n=vn(a),n!==null&&Ly(n),t.blockedOn=a,!1;n.shift()}return!0}function qy(t,n,a){$o(t)&&a.delete(n)}function t1(){Qf=!1,ba!==null&&$o(ba)&&(ba=null),Ra!==null&&$o(Ra)&&(Ra=null),Ca!==null&&$o(Ca)&&(Ca=null),Gl.forEach(qy),Fl.forEach(qy)}function Zo(t,n){t.blockedOn===n&&(t.blockedOn=null,Qf||(Qf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,t1)))}var Jo=null;function ky(t){Jo!==t&&(Jo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jo===t&&(Jo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Ff(l||a)===null)continue;break}var f=vn(a);f!==null&&(t.splice(n,3),n-=3,Hh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _s(t){function n(w){return Zo(w,t)}ba!==null&&Zo(ba,t),Ra!==null&&Zo(Ra,t),Ca!==null&&Zo(Ca,t),Gl.forEach(n),Fl.forEach(n);for(var a=0;a<wa.length;a++){var l=wa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)jy(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],_=h[xe]||null;if(typeof f=="function")_||ky(a);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[xe]||null)E=_.formAction;else if(Ff(h)!==null)continue}else E=_.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ky(a)}}}function Hy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Yf(t){this._internalRoot=t}Wo.prototype.render=Yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=yn();xy(a,l,t,n,null,null)},Wo.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Mo(),n[Wn]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ou();t={blockedOn:null,target:t,priority:n};for(var a=0;a<wa.length&&n!==0&&n<wa[a].priority;a++);wa.splice(a,0,t),a===0&&jy(t)}};var Gy=e.version;if(Gy!=="19.2.0")throw Error(s(527,Gy,"19.2.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Mn=tc.inject(e1),Be=tc}catch{}}return Kl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",h=Zg,f=Jg,_=Wg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Oy(t,1,!1,null,null,a,l,null,h,f,_,Hy),t[Wn]=n.current,Df(t),new Yf(n)},Kl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,h="",f=Zg,_=Jg,E=Wg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=Oy(t,1,!0,n,a??null,l,h,w,f,_,E,Hy),n.context=My(null),a=n.current,l=yn(),l=Qa(l),h=fa(l),h.callback=null,da(a,h,l),a=l,n.current.lanes=a,Ga(n,a),gi(n),t[Wn]=n.current,Df(t),new Wo(n)},Kl.version="19.2.0",Kl}var t_;function f1(){if(t_)return $f.exports;t_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$f.exports=h1(),$f.exports}var d1=f1();const m1=yv(d1);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e_="popstate";function g1(r={}){function e(u,c){let{pathname:d="/",search:g="",hash:y=""}=Sr(u.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),hd("",{pathname:d,search:g,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(u,c){let d=u.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=u.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof c=="string"?c:su(c))}function s(u,c){Qn(u.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return y1(e,i,s,r)}function le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function n_(r,e){return{usr:r.state,key:r.key,idx:e}}function hd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Sr(e):e,state:i,key:e&&e.key||s||p1()}}function su({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Sr(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function y1(r,e,i,s={}){let{window:u=document.defaultView,v5Compat:c=!1}=s,d=u.history,g="POP",y=null,p=T();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function T(){return(d.state||{idx:null}).idx}function S(){g="POP";let H=T(),et=H==null?null:H-p;p=H,y&&y({action:g,location:W.location,delta:et})}function V(H,et){g="PUSH";let tt=hd(W.location,H,et);i&&i(tt,H),p=T()+1;let st=n_(tt,p),Rt=W.createHref(tt);try{d.pushState(st,"",Rt)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;u.location.assign(Rt)}c&&y&&y({action:g,location:W.location,delta:1})}function j(H,et){g="REPLACE";let tt=hd(W.location,H,et);i&&i(tt,H),p=T();let st=n_(tt,p),Rt=W.createHref(tt);d.replaceState(st,"",Rt),c&&y&&y({action:g,location:W.location,delta:0})}function J(H){return _1(H)}let W={get action(){return g},get location(){return r(u,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(e_,S),y=H,()=>{u.removeEventListener(e_,S),y=null}},createHref(H){return e(u,H)},createURL:J,encodeLocation(H){let et=J(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:V,replace:j,go(H){return d.go(H)}};return W}function _1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:su(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function _v(r,e,i="/"){return v1(r,e,i,!1)}function v1(r,e,i,s){let u=typeof e=="string"?Sr(e):e,c=Qi(u.pathname||"/",i);if(c==null)return null;let d=vv(r);E1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=N1(c);g=V1(d[y],p,s)}return g}function vv(r,e=[],i=[],s="",u=!1){let c=(d,g,y=u,p)=>{let T={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&y)return;le(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let S=Hi([s,T.relativePath]),V=i.concat(T);d.children&&d.children.length>0&&(le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),vv(d.children,e,V,S,y)),!(d.path==null&&!d.index)&&e.push({path:S,score:w1(S,d.index),routesMeta:V})};return r.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))c(d,g);else for(let y of Ev(d.path))c(d,g,!0,y)}),e}function Ev(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,u=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return u?[c,""]:[c];let d=Ev(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),u&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function E1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:D1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var T1=/^:[\w-]+$/,A1=3,S1=2,b1=1,R1=10,C1=-2,i_=r=>r==="*";function w1(r,e){let i=r.split("/"),s=i.length;return i.some(i_)&&(s+=C1),e&&(s+=S1),i.filter(u=>!i_(u)).reduce((u,c)=>u+(T1.test(c)?A1:c===""?b1:R1),s)}function D1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,u)=>s===e[u])?r[r.length-1]-e[e.length-1]:0}function V1(r,e,i=!1){let{routesMeta:s}=r,u={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",S=gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},T),V=y.route;if(!S&&p&&i&&!s[s.length-1].route.index&&(S=gc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!S)return null;Object.assign(u,S.params),d.push({params:u,pathname:Hi([c,S.pathname]),pathnameBase:U1(Hi([c,S.pathnameBase])),route:V}),S.pathnameBase!=="/"&&(c=Hi([c,S.pathnameBase]))}return d}function gc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=I1(r.path,r.caseSensitive,r.end),u=e.match(i);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:S},V)=>{if(T==="*"){let J=g[V]||"";d=c.slice(0,c.length-J.length).replace(/(.)\/+$/,"$1")}const j=g[V];return S&&!j?p[T]=void 0:p[T]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function I1(r,e=!1,i=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),s]}function N1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Qi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function O1(r,e="/"){let{pathname:i,search:s="",hash:u=""}=typeof r=="string"?Sr(r):r;return{pathname:i?i.startsWith("/")?i:M1(i,e):e,search:L1(s),hash:z1(u)}}function M1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function td(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Tv(r){let e=x1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Av(r,e,i,s=!1){let u;typeof r=="string"?u=Sr(r):(u={...r},le(!u.pathname||!u.pathname.includes("?"),td("?","pathname","search",u)),le(!u.pathname||!u.pathname.includes("#"),td("#","pathname","hash",u)),le(!u.search||!u.search.includes("#"),td("#","search","hash",u)));let c=r===""||u.pathname==="",d=c?"/":u.pathname,g;if(d==null)g=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let V=d.split("/");for(;V[0]==="..";)V.shift(),S-=1;u.pathname=V.join("/")}g=S>=0?e[S]:"/"}let y=O1(u,g),p=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||T)&&(y.pathname+="/"),y}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),U1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),L1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,z1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function B1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var P1=["GET",...Sv];new Set(P1);var Us=Q.createContext(null);Us.displayName="DataRouter";var Nc=Q.createContext(null);Nc.displayName="DataRouterState";Q.createContext(!1);var bv=Q.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var j1=Q.createContext(new Map);j1.displayName="Fetchers";var q1=Q.createContext(null);q1.displayName="Await";var Ai=Q.createContext(null);Ai.displayName="Navigation";var pu=Q.createContext(null);pu.displayName="Location";var Si=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Si.displayName="Route";var Ld=Q.createContext(null);Ld.displayName="RouteError";function k1(r,{relative:e}={}){le(yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(Ai),{hash:u,pathname:c,search:d}=_u(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Hi([i,c])),s.createHref({pathname:g,search:d,hash:u})}function yu(){return Q.useContext(pu)!=null}function br(){return le(yu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(pu).location}var Rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(r){Q.useContext(Ai).static||Q.useLayoutEffect(r)}function H1(){let{isDataRoute:r}=Q.useContext(Si);return r?nA():G1()}function G1(){le(yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Us),{basename:e,navigator:i}=Q.useContext(Ai),{matches:s}=Q.useContext(Si),{pathname:u}=br(),c=JSON.stringify(Tv(s)),d=Q.useRef(!1);return Cv(()=>{d.current=!0}),Q.useCallback((y,p={})=>{if(Qn(d.current,Rv),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=Av(y,JSON.parse(c),u,p.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Hi([e,T.pathname])),(p.replace?i.replace:i.push)(T,p.state,p)},[e,i,c,u,r])}Q.createContext(null);function wv(){let{matches:r}=Q.useContext(Si),e=r[r.length-1];return e?e.params:{}}function _u(r,{relative:e}={}){let{matches:i}=Q.useContext(Si),{pathname:s}=br(),u=JSON.stringify(Tv(i));return Q.useMemo(()=>Av(r,JSON.parse(u),s,e==="path"),[r,u,s,e])}function F1(r,e){return Dv(r,e)}function Dv(r,e,i,s,u){le(yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=Q.useContext(Ai),{matches:d}=Q.useContext(Si),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",T=g?g.pathnameBase:"/",S=g&&g.route;{let tt=S&&S.path||"";Vv(p,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let V=br(),j;if(e){let tt=typeof e=="string"?Sr(e):e;le(T==="/"||tt.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),j=tt}else j=V;let J=j.pathname||"/",W=J;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");W="/"+J.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=_v(r,{pathname:W});Qn(S||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=$1(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},y,tt.params),pathname:Hi([T,c.encodeLocation?c.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:Hi([T,c.encodeLocation?c.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),d,i,s,u);return e&&et?Q.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},et):et}function Q1(){let r=eA(),e=B1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:u},i):null,d)}var Y1=Q.createElement(Q1,null),K1=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Q.createElement(Si.Provider,{value:this.props.routeContext},Q.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X1({routeContext:r,match:e,children:i}){let s=Q.useContext(Us);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Si.Provider,{value:r},i)}function $1(r,e=[],i=null,s=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let c=r,d=i?.errors;if(d!=null){let p=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);le(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let g=!1,y=-1;if(i)for(let p=0;p<c.length;p++){let T=c[p];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=p),T.route.id){let{loaderData:S,errors:V}=i,j=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||j){g=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((p,T,S)=>{let V,j=!1,J=null,W=null;i&&(V=d&&T.route.id?d[T.route.id]:void 0,J=T.route.errorElement||Y1,g&&(y<0&&S===0?(Vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,W=null):y===S&&(j=!0,W=T.route.hydrateFallbackElement||null)));let H=e.concat(c.slice(0,S+1)),et=()=>{let tt;return V?tt=J:j?tt=W:T.route.Component?tt=Q.createElement(T.route.Component,null):T.route.element?tt=T.route.element:tt=p,Q.createElement(X1,{match:T,routeContext:{outlet:p,matches:H,isDataRoute:i!=null},children:tt})};return i&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?Q.createElement(K1,{location:i.location,revalidation:i.revalidation,component:J,error:V,children:et(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):et()},null)}function zd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(r){let e=Q.useContext(Us);return le(e,zd(r)),e}function J1(r){let e=Q.useContext(Nc);return le(e,zd(r)),e}function W1(r){let e=Q.useContext(Si);return le(e,zd(r)),e}function Bd(r){let e=W1(r),i=e.matches[e.matches.length-1];return le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function tA(){return Bd("useRouteId")}function eA(){let r=Q.useContext(Ld),e=J1("useRouteError"),i=Bd("useRouteError");return r!==void 0?r:e.errors?.[i]}function nA(){let{router:r}=Z1("useNavigate"),e=Bd("useNavigate"),i=Q.useRef(!1);return Cv(()=>{i.current=!0}),Q.useCallback(async(u,c={})=>{Qn(i.current,Rv),i.current&&(typeof u=="number"?r.navigate(u):await r.navigate(u,{fromRouteId:e,...c}))},[r,e])}var a_={};function Vv(r,e,i){!e&&!a_[r]&&(a_[r]=!0,Qn(!1,i))}Q.memo(iA);function iA({routes:r,future:e,state:i,unstable_onError:s}){return Dv(r,void 0,i,s,e)}function vs(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:u,static:c=!1}){le(!yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:d,navigator:u,static:c,future:{}}),[d,u,c]);typeof i=="string"&&(i=Sr(i));let{pathname:y="/",search:p="",hash:T="",state:S=null,key:V="default"}=i,j=Q.useMemo(()=>{let J=Qi(y,d);return J==null?null:{location:{pathname:J,search:p,hash:T,state:S,key:V},navigationType:s}},[d,y,p,T,S,V,s]);return Qn(j!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:Q.createElement(Ai.Provider,{value:g},Q.createElement(pu.Provider,{children:e,value:j}))}function rA({children:r,location:e}){return F1(fd(r),e)}function fd(r,e=[]){let i=[];return Q.Children.forEach(r,(s,u)=>{if(!Q.isValidElement(s))return;let c=[...e,u];if(s.type===Q.Fragment){i.push.apply(i,fd(s.props.children,c));return}le(s.type===vs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=fd(s.props.children,c)),i.push(d)}),i}var lc="get",uc="application/x-www-form-urlencoded";function Oc(r){return r!=null&&typeof r.tagName=="string"}function sA(r){return Oc(r)&&r.tagName.toLowerCase()==="button"}function lA(r){return Oc(r)&&r.tagName.toLowerCase()==="form"}function uA(r){return Oc(r)&&r.tagName.toLowerCase()==="input"}function oA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cA(r,e){return r.button===0&&(!e||e==="_self")&&!oA(r)}var ec=null;function hA(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ed(r){return r!=null&&!fA.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):r}function dA(r,e){let i,s,u,c,d;if(lA(r)){let g=r.getAttribute("action");s=g?Qi(g,e):null,i=r.getAttribute("method")||lc,u=ed(r.getAttribute("enctype"))||uc,c=new FormData(r)}else if(sA(r)||uA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Qi(y,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||lc,u=ed(r.getAttribute("formenctype"))||ed(g.getAttribute("enctype"))||uc,c=new FormData(g,r),!hA()){let{name:p,type:T,value:S}=r;if(T==="image"){let V=p?`${p}.`:"";c.append(`${V}x`,"0"),c.append(`${V}y`,"0")}else p&&c.append(p,S)}}else{if(Oc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lc,s=null,u=uc,d=r}return c&&u==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:u,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mA(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Qi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function gA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yA(r,e,i){let s=await Promise.all(r.map(async u=>{let c=e.routes[u.route.id];if(c){let d=await gA(c,i);return d.links?d.links():[]}return[]}));return TA(s.flat(1).filter(pA).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function r_(r,e,i,s,u,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function _A(r,e,{includeHydrateFallback:i}={}){return vA(r.map(s=>{let u=e.routes[s.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function vA(r){return[...new Set(r)]}function EA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function TA(r,e){let i=new Set;return new Set(e),r.reduce((s,u)=>{let c=JSON.stringify(EA(u));return i.has(c)||(i.add(c),s.push({key:c,link:u})),s},[])}function Iv(){let r=Q.useContext(Us);return Pd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AA(){let r=Q.useContext(Nc);return Pd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jd=Q.createContext(void 0);jd.displayName="FrameworkContext";function Nv(){let r=Q.useContext(jd);return Pd(r,"You must render this element inside a <HydratedRouter> element"),r}function SA(r,e){let i=Q.useContext(jd),[s,u]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:T,onTouchStart:S}=e,V=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let W=et=>{et.forEach(tt=>{d(tt.isIntersecting)})},H=new IntersectionObserver(W,{threshold:.5});return V.current&&H.observe(V.current),()=>{H.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[s]);let j=()=>{u(!0)},J=()=>{u(!1),d(!1)};return i?r!=="intent"?[c,V,{}]:[c,V,{onFocus:Xl(g,j),onBlur:Xl(y,J),onMouseEnter:Xl(p,j),onMouseLeave:Xl(T,J),onTouchStart:Xl(S,j)}]:[!1,V,{}]}function Xl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function bA({page:r,...e}){let{router:i}=Iv(),s=Q.useMemo(()=>_v(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(CA,{page:r,matches:s,...e}):null}function RA(r){let{manifest:e,routeModules:i}=Nv(),[s,u]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return yA(r,e,i).then(d=>{c||u(d)}),()=>{c=!0}},[r,e,i]),s}function CA({page:r,matches:e,...i}){let s=br(),{manifest:u,routeModules:c}=Nv(),{basename:d}=Iv(),{loaderData:g,matches:y}=AA(),p=Q.useMemo(()=>r_(r,e,y,u,s,"data"),[r,e,y,u,s]),T=Q.useMemo(()=>r_(r,e,y,u,s,"assets"),[r,e,y,u,s]),S=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let J=new Set,W=!1;if(e.forEach(et=>{let tt=u.routes[et.route.id];!tt||!tt.hasLoader||(!p.some(st=>st.route.id===et.route.id)&&et.route.id in g&&c[et.route.id]?.shouldRevalidate||tt.hasClientLoader?W=!0:J.add(et.route.id))}),J.size===0)return[];let H=mA(r,d,"data");return W&&J.size>0&&H.searchParams.set("_routes",e.filter(et=>J.has(et.route.id)).map(et=>et.route.id).join(",")),[H.pathname+H.search]},[d,g,s,u,p,e,r,c]),V=Q.useMemo(()=>_A(T,u),[T,u]),j=RA(T);return Q.createElement(Q.Fragment,null,S.map(J=>Q.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...i})),V.map(J=>Q.createElement("link",{key:J,rel:"modulepreload",href:J,...i})),j.map(({key:J,link:W})=>Q.createElement("link",{key:J,nonce:i.nonce,...W})))}function wA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.9.5")}catch{}function DA({basename:r,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=g1({window:i,v5Compat:!0}));let u=s.current,[c,d]=Q.useState({action:u.action,location:u.location}),g=Q.useCallback(y=>{Q.startTransition(()=>d(y))},[d]);return Q.useLayoutEffect(()=>u.listen(g),[u,g]),Q.createElement(aA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:u})}var Mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:u,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:T,viewTransition:S,...V},j){let{basename:J}=Q.useContext(Ai),W=typeof p=="string"&&Mv.test(p),H,et=!1;if(typeof p=="string"&&W&&(H=p,Ov))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),I=Qi(M.pathname,J);M.origin===R.origin&&I!=null?p=I+M.search+M.hash:et=!0}catch{Qn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=k1(p,{relative:u}),[st,Rt,wt]=SA(s,V),Ct=NA(p,{replace:d,state:g,target:y,preventScrollReset:T,relative:u,viewTransition:S});function D(R){e&&e(R),R.defaultPrevented||Ct(R)}let b=Q.createElement("a",{...V,...wt,href:H||tt,onClick:et||c?e:D,ref:wA(j,Rt),target:y,"data-discover":!W&&i==="render"?"true":void 0});return st&&!W?Q.createElement(Q.Fragment,null,b,Q.createElement(bA,{page:tt})):b});Er.displayName="Link";var $l=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:u=!1,style:c,to:d,viewTransition:g,children:y,...p},T){let S=_u(d,{relative:p.relative}),V=br(),j=Q.useContext(Nc),{navigator:J,basename:W}=Q.useContext(Ai),H=j!=null&&LA(S)&&g===!0,et=J.encodeLocation?J.encodeLocation(S).pathname:S.pathname,tt=V.pathname,st=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),st=st?st.toLowerCase():null,et=et.toLowerCase()),st&&W&&(st=Qi(st,W)||st);const Rt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let wt=tt===et||!u&&tt.startsWith(et)&&tt.charAt(Rt)==="/",Ct=st!=null&&(st===et||!u&&st.startsWith(et)&&st.charAt(et.length)==="/"),D={isActive:wt,isPending:Ct,isTransitioning:H},b=wt?e:void 0,R;typeof s=="function"?R=s(D):R=[s,wt?"active":null,Ct?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let M=typeof c=="function"?c(D):c;return Q.createElement(Er,{...p,"aria-current":b,className:R,ref:T,style:M,to:d,viewTransition:g},typeof y=="function"?y(D):y)});$l.displayName="NavLink";var VA=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:u,state:c,method:d=lc,action:g,onSubmit:y,relative:p,preventScrollReset:T,viewTransition:S,...V},j)=>{let J=xA(),W=UA(g,{relative:p}),H=d.toLowerCase()==="get"?"get":"post",et=typeof g=="string"&&Mv.test(g),tt=st=>{if(y&&y(st),st.defaultPrevented)return;st.preventDefault();let Rt=st.nativeEvent.submitter,wt=Rt?.getAttribute("formmethod")||d;J(Rt||st.currentTarget,{fetcherKey:e,method:wt,navigate:i,replace:u,state:c,relative:p,preventScrollReset:T,viewTransition:S})};return Q.createElement("form",{ref:j,method:H,action:W,onSubmit:s?y:tt,...V,"data-discover":!et&&r==="render"?"true":void 0})});VA.displayName="Form";function IA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xv(r){let e=Q.useContext(Us);return le(e,IA(r)),e}function NA(r,{target:e,replace:i,state:s,preventScrollReset:u,relative:c,viewTransition:d}={}){let g=H1(),y=br(),p=_u(r,{relative:c});return Q.useCallback(T=>{if(cA(T,e)){T.preventDefault();let S=i!==void 0?i:su(y)===su(p);g(r,{replace:S,state:s,preventScrollReset:u,relative:c,viewTransition:d})}},[y,g,p,i,s,e,r,u,c,d])}var OA=0,MA=()=>`__${String(++OA)}__`;function xA(){let{router:r}=xv("useSubmit"),{basename:e}=Q.useContext(Ai),i=tA();return Q.useCallback(async(s,u={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=dA(s,e);if(u.navigate===!1){let T=u.fetcherKey||MA();await r.fetch(T,i,u.action||c,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,flushSync:u.flushSync})}else await r.navigate(u.action||c,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||d,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,e,i])}function UA(r,{relative:e}={}){let{basename:i}=Q.useContext(Ai),s=Q.useContext(Si);le(s,"useFormAction must be used inside a RouteContext");let[u]=s.matches.slice(-1),c={..._u(r||".",{relative:e})},d=br();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(T=>T==="")){g.delete("index"),y.filter(S=>S).forEach(S=>g.append("index",S));let T=g.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Hi([i,c.pathname])),su(c)}function LA(r,{relative:e}={}){let i=Q.useContext(bv);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xv("useViewTransitionState"),u=_u(r,{relative:e});if(!i.isTransitioning)return!1;let c=Qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return gc(u.pathname,d)!=null||gc(u.pathname,c)!=null}const Uv=Q.createContext(),Ls=()=>Q.useContext(Uv);function zA({children:r}){const[e,i]=Q.useState([]),s=(y,p)=>{if(e.find(S=>S.id===y.id)){const S=e.map(V=>V.id===y.id?{...V,quantity:V.quantity+p}:V);i(S)}else i([...e,{...y,quantity:p}])},u=y=>{i(e.filter(p=>p.id!==y))},c=()=>i([]),d=e.reduce((y,p)=>y+p.quantity,0),g=e.reduce((y,p)=>y+p.quantity*p.price,0);return nt.jsx(Uv.Provider,{value:{cart:e,addItem:s,removeItem:u,clearCart:c,totalItems:d,totalPrice:g},children:r})}function BA(){const{totalItems:r}=Ls();return nt.jsxs(Er,{to:"/cart",className:"cart-widget",children:[" ",nt.jsx("span",{children:r>0?r:""})]})}function PA(){return nt.jsxs("nav",{className:"navbar",children:[nt.jsx(Er,{to:"/",className:"navbar-logo",children:" Tienda de Termos"}),nt.jsxs("ul",{className:"navbar-links",children:[nt.jsx("li",{children:nt.jsx($l,{to:"/",children:"Inicio"})}),nt.jsx("li",{children:nt.jsx($l,{to:"/category/acero",children:"Acero"})}),nt.jsx("li",{children:nt.jsx($l,{to:"/category/plastico",children:"Plstico"})}),nt.jsx("li",{children:nt.jsx($l,{to:"/category/vidrio",children:"Vidrio"})})]}),nt.jsx(BA,{})]})}const jA="data:image/png;base64,";function qA({product:r}){const{addItem:e}=Ls(),i=r.image||jA,s=r.title||"Producto",u=Number(r.price)||0,c=(Number(r.stock)||0)>0,d=()=>{e(r,1)};return nt.jsxs("div",{className:"item-card",children:[nt.jsx("img",{src:i,alt:s}),nt.jsx("h3",{children:s}),nt.jsxs("p",{children:["$",u]}),nt.jsxs("div",{style:{display:"flex",gap:8},children:[nt.jsx(Er,{to:`/item/${r.id}`,className:"btn",children:"Ver detalle"}),nt.jsx("button",{className:"btn",onClick:d,disabled:!c,children:c?"Agregar":"Sin stock"})]})]})}function kA({products:r}){return nt.jsx("div",{className:"item-list",children:r.map(e=>nt.jsx(qA,{product:e},e.id))})}const HA=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},GA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const c=r[i++];e[s++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=r[i++],d=r[i++],g=r[i++],y=((u&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(c&63)<<6|d&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const c=r[u],d=u+1<r.length,g=d?r[u+1]:0,y=u+2<r.length,p=y?r[u+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|p>>6,j=p&63;y||(j=64,d||(V=64)),s.push(i[T],i[S],i[V],i[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Lv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const c=i[r.charAt(u++)],g=u<r.length?i[r.charAt(u)]:0;++u;const p=u<r.length?i[r.charAt(u)]:64;++u;const S=u<r.length?i[r.charAt(u)]:64;if(++u,c==null||g==null||p==null||S==null)throw new FA;const V=c<<2|g>>4;if(s.push(V),p!==64){const j=g<<4&240|p>>2;if(s.push(j),S!==64){const J=p<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QA=function(r){const e=Lv(r);return zv.encodeByteArray(e,!0)},pc=function(r){return QA(r).replace(/\./g,"")},YA=function(r){try{return zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=()=>KA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof s_>"u")return;const r=s_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YA(r[1]);return e&&JSON.parse(e)},qd=()=>{try{return HA()||XA()||$A()||ZA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JA=r=>qd()?.emulatorHosts?.[r],WA=r=>{const e=JA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Bv=()=>qd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[pc(JSON.stringify(i)),pc(JSON.stringify(d)),""].join(".")}const eu={};function iS(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function aS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let l_=!1;function rS(r,e){if(typeof window>"u"||typeof document>"u"||!kd(window.location.host)||eu[r]===e||eu[r]||l_)return;eu[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=iS().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,j){V.setAttribute("width","24"),V.setAttribute("id",j),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function p(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{l_=!0,d()},V}function T(V,j){V.setAttribute("id",j),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=aS(s),j=i("text"),J=document.getElementById(j)||document.createElement("span"),W=i("learnmore"),H=document.getElementById(W)||document.createElement("a"),et=i("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const st=V.element;g(st),T(H,W);const Rt=p();y(tt,et),st.append(tt,J,H,Rt),document.body.appendChild(st)}c?(J.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){const r=qd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return!lS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="FirebaseError";class zs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=hS,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pv.prototype.create)}}class Pv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,c=this.errors[e],d=c?fS(c,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new zs(u,g,s)}}function fS(r,e){return r.replace(dS,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const dS=/\{\$([^}]+)}/g;function yc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const c=r[u],d=e[u];if(u_(c)&&u_(d)){if(!yc(c,d))return!1}else if(c!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function u_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(r){return r&&r._delegate?r._delegate:r}class lu{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pS(e))try{this.getOrInitializeService({instanceIdentifier:yr})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch{}}}}clearInstance(e=yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yr){return this.instances.has(e)}getOptions(e=yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const c=this.instances.get(s);return c&&e(c,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=yr){return this.component?this.component.multipleInstances?e:yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(r){return r===yr?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new mS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const _S={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},vS=zt.INFO,ES={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},TS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=ES[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=vS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_S[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const AS=(r,e)=>e.some(i=>r instanceof i);let o_,c_;function SS(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,dd=new WeakMap,kv=new WeakMap,nd=new WeakMap,Hd=new WeakMap;function RS(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ia(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&qv.set(i,r)}).catch(()=>{}),Hd.set(e,r),e}function CS(r){if(dd.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});dd.set(r,e)}let md={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return dd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ia(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){md=r(md)}function DS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(id(this),e,...i);return kv.set(s,e.sort?e.sort():[e]),Ia(s)}:bS().includes(r)?function(...e){return r.apply(id(this),e),Ia(qv.get(this))}:function(...e){return Ia(r.apply(id(this),e))}}function VS(r){return typeof r=="function"?DS(r):(r instanceof IDBTransaction&&CS(r),AS(r,SS())?new Proxy(r,md):r)}function Ia(r){if(r instanceof IDBRequest)return RS(r);if(nd.has(r))return nd.get(r);const e=VS(r);return e!==r&&(nd.set(r,e),Hd.set(e,r)),e}const id=r=>Hd.get(r);function IS(r,e,{blocked:i,upgrade:s,blocking:u,terminated:c}={}){const d=indexedDB.open(r,e),g=Ia(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ia(d.result),y.oldVersion,y.newVersion,Ia(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),u&&y.addEventListener("versionchange",p=>u(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const NS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],ad=new Map;function h_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=OS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||NS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,u?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),u&&y.done]))[0]};return ad.set(e,c),c}wS(r=>({...r,get:(e,i,s)=>h_(e,i)||r.get(e,i,s),has:(e,i)=>!!h_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){return r.getComponent()?.type==="VERSION"}const gd="@firebase/app",f_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new jv("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",zS="@firebase/analytics",BS="@firebase/app-check-compat",PS="@firebase/app-check",jS="@firebase/auth",qS="@firebase/auth-compat",kS="@firebase/database",HS="@firebase/data-connect",GS="@firebase/database-compat",FS="@firebase/functions",QS="@firebase/functions-compat",YS="@firebase/installations",KS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",tb="@firebase/remote-config-compat",eb="@firebase/storage",nb="@firebase/storage-compat",ib="@firebase/firestore",ab="@firebase/ai",rb="@firebase/firestore-compat",sb="firebase",lb="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",ub={[gd]:"fire-core",[US]:"fire-core-compat",[zS]:"fire-analytics",[LS]:"fire-analytics-compat",[PS]:"fire-app-check",[BS]:"fire-app-check-compat",[jS]:"fire-auth",[qS]:"fire-auth-compat",[kS]:"fire-rtdb",[HS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[FS]:"fire-fn",[QS]:"fire-fn-compat",[YS]:"fire-iid",[KS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[tb]:"fire-rc-compat",[eb]:"fire-gcs",[nb]:"fire-gcs-compat",[ib]:"fire-fst",[rb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[sb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new Map,ob=new Map,yd=new Map;function d_(r,e){try{r.container.addComponent(e)}catch(i){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function vc(r){const e=r.name;if(yd.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,r);for(const i of _c.values())d_(i,r);for(const i of ob.values())d_(i,r);return!0}function cb(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function hb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Pv("app","Firebase",fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=lb;function Hv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:pd,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Na.create("bad-app-name",{appName:String(u)});if(i||(i=Bv()),!i)throw Na.create("no-options");const c=_c.get(u);if(c){if(yc(i,c.options)&&yc(s,c.config))return c;throw Na.create("duplicate-app",{appName:u})}const d=new yS(u);for(const y of yd.values())d.addComponent(y);const g=new db(i,s,d);return _c.set(u,g),g}function gb(r=pd){const e=_c.get(r);if(!e&&r===pd&&Bv())return Hv();if(!e)throw Na.create("no-app",{appName:r});return e}function bs(r,e,i){let s=ub[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}vc(new lu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebase-heartbeat-database",yb=1,uu="firebase-heartbeat-store";let rd=null;function Gv(){return rd||(rd=IS(pb,yb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(i){console.warn(i)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),rd}async function _b(r){try{const i=(await Gv()).transaction(uu),s=await i.objectStore(uu).get(Fv(r));return await i.done,s}catch(e){if(e instanceof zs)Yi.warn(e.message);else{const i=Na.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(i.message)}}}async function m_(r,e){try{const s=(await Gv()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,Fv(r)),await s.done}catch(i){if(i instanceof zs)Yi.warn(i.message);else{const s=Na.create("idb-set",{originalErrorMessage:i?.message});Yi.warn(s.message)}}}function Fv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1024,Eb=30;class Tb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Sb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=g_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Eb){const u=bb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g_(),{heartbeatsToSend:i,unsentEntries:s}=Ab(this._heartbeatsCache.heartbeats),u=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Yi.warn(e),""}}}function g_(){return new Date().toISOString().substring(0,10)}function Ab(r,e=vb){const i=[];let s=r.slice();for(const u of r){const c=i.find(d=>d.agent===u.agent);if(c){if(c.dates.push(u.date),p_(i)>e){c.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),p_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return m_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function p_(r){return pc(JSON.stringify({version:2,heartbeats:r})).length}function bb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r){vc(new lu("platform-logger",e=>new MS(e),"PRIVATE")),vc(new lu("heartbeat",e=>new Tb(e),"PRIVATE")),bs(gd,f_,r),bs(gd,f_,"esm2020"),bs("fire-js","")}Rb("");var Cb="firebase",wb="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(Cb,wb,"app");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,Qv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function R(){}R.prototype=b.prototype,D.F=b.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,I,U){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return b.prototype[I].apply(M,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,b,R){R||(R=0);const M=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)M[I]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=D.g[0],R=D.g[1],I=D.g[2];let U=D.g[3],C;C=b+(U^R&(I^U))+M[0]+3614090360&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[2]+606105819&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[3]+3250441966&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[6]+2821735955&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[7]+4249261313&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[10]+4294925233&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[11]+2304563134&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(U^R&(I^U))+M[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(I^b&(R^I))+M[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=I+(R^U&(b^R))+M[14]+2792965006&4294967295,I=U+(C<<17&4294967295|C>>>15),C=R+(b^I&(U^b))+M[15]+1236535329&4294967295,R=I+(C<<22&4294967295|C>>>10),C=b+(I^U&(R^I))+M[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[11]+643717713&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[0]+3921069994&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[15]+3634488961&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[4]+3889429448&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[3]+4107603335&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[8]+1163531501&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(I^U&(R^I))+M[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^I&(b^R))+M[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=I+(b^R&(U^b))+M[7]+1735328473&4294967295,I=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(I^U))+M[12]+2368359562&4294967295,R=I+(C<<20&4294967295|C>>>12),C=b+(R^I^U)+M[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[11]+1839030562&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[14]+4259657740&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[7]+4139469664&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[10]+3200236656&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[3]+3572445317&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[6]+76029189&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(R^I^U)+M[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^I)+M[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=I+(U^b^R)+M[15]+530742520&4294967295,I=U+(C<<16&4294967295|C>>>16),C=R+(I^U^b)+M[2]+3299628645&4294967295,R=I+(C<<23&4294967295|C>>>9),C=b+(I^(R|~U))+M[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[14]+2878612391&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[5]+4237533241&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[10]+4293915773&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[1]+2240044497&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[6]+2734768916&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[13]+1309151649&4294967295,R=I+(C<<21&4294967295|C>>>11),C=b+(I^(R|~U))+M[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~I))+M[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=I+(b^(U|~R))+M[2]+718787259&4294967295,I=U+(C<<15&4294967295|C>>>17),C=R+(U^(I|~b))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+U&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const R=b-this.blockSize,M=this.C;let I=this.h,U=0;for(;U<b;){if(I==0)for(;U<=R;)u(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<b;)if(M[I++]=D.charCodeAt(U++),I==this.blockSize){u(this,M),I=0;break}}else for(;U<b;)if(M[I++]=D[U++],I==this.blockSize){u(this,M),I=0;break}}this.h=I,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[b++]=this.g[R]>>>M&255;return D};function c(D,b){var R=g;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=b(D)}function d(D,b){this.h=b;const R=[];let M=!0;for(let I=D.length-1;I>=0;I--){const U=D[I]|0;M&&U==b||(R[I]=U,M=!1)}this.g=R}var g={};function y(D){return-128<=D&&D<128?c(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return H(p(-D));const b=[];let R=1;for(let M=0;D>=R;M++)b[M]=D/R|0,R*=4294967296;return new d(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return H(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(b,8));let M=S;for(let U=0;U<D.length;U+=8){var I=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+I),b);I<8?(I=p(Math.pow(b,I)),M=M.j(I).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var S=y(0),V=y(1),j=y(16777216);r=d.prototype,r.m=function(){if(W(this))return-H(this).m();let D=0,b=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(W(this))return"-"+H(this).toString(D);const b=p(Math.pow(D,6));var R=this;let M="";for(;;){const I=Rt(R,b).g;R=et(R,I.j(b));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=I,J(R))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function W(D){return D.h==-1}r.l=function(D){return D=et(this,D),W(D)?-1:J(D)?0:1};function H(D){const b=D.g.length,R=[];for(let M=0;M<b;M++)R[M]=~D.g[M];return new d(R,~D.h).add(V)}r.abs=function(){return W(this)?H(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let I=0;I<=b;I++){let U=M+(this.i(I)&65535)+(D.i(I)&65535),C=(U>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);M=C>>>16,U&=65535,C&=65535,R[I]=C<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function et(D,b){return D.add(H(b))}r.j=function(D){if(J(this)||J(D))return S;if(W(this))return W(D)?H(this).j(H(D)):H(H(this).j(D));if(W(D))return H(this.j(H(D)));if(this.l(j)<0&&D.l(j)<0)return p(this.m()*D.m());const b=this.g.length+D.g.length,R=[];for(var M=0;M<2*b;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<D.g.length;I++){const U=this.i(M)>>>16,C=this.i(M)&65535,ie=D.i(I)>>>16,De=D.i(I)&65535;R[2*M+2*I]+=C*De,tt(R,2*M+2*I),R[2*M+2*I+1]+=U*De,tt(R,2*M+2*I+1),R[2*M+2*I+1]+=C*ie,tt(R,2*M+2*I+1),R[2*M+2*I+2]+=U*ie,tt(R,2*M+2*I+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new d(R,0)};function tt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function st(D,b){this.g=D,this.h=b}function Rt(D,b){if(J(b))throw Error("division by zero");if(J(D))return new st(S,S);if(W(D))return b=Rt(H(D),b),new st(H(b.g),H(b.h));if(W(b))return b=Rt(D,H(b)),new st(H(b.g),b.h);if(D.g.length>30){if(W(D)||W(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,M=b;M.l(D)<=0;)R=wt(R),M=wt(M);var I=Ct(R,1),U=Ct(M,1);for(M=Ct(M,2),R=Ct(R,2);!J(M);){var C=U.add(M);C.l(D)<=0&&(I=I.add(R),U=C),M=Ct(M,1),R=Ct(R,1)}return b=et(D,I.j(b)),new st(I,b)}for(I=S;D.l(b)>=0;){for(R=Math.max(1,Math.floor(D.m()/b.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(R),C=U.j(b);W(C)||C.l(D)>0;)R-=M,U=p(R),C=U.j(b);J(U)&&(U=V),I=I.add(U),D=et(D,C)}return new st(I,D)}r.B=function(D){return Rt(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)&D.i(M);return new d(R,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)|D.i(M);return new d(R,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<b;M++)R[M]=this.i(M)^D.i(M);return new d(R,this.h^D.h)};function wt(D){const b=D.g.length+1,R=[];for(let M=0;M<b;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new d(R,D.h)}function Ct(D,b){const R=b>>5;b%=32;const M=D.g.length-R,I=[];for(let U=0;U<M;U++)I[U]=b>0?D.i(U+R)>>>b|D.i(U+R+1)<<32-b:D.i(U+R);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Qv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Oa=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yv,Zl,Kv,oc,_d,Xv,$v,Zv;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<o.length;++m){var v=o[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var v=s;o=o.split(".");for(var A=0;A<o.length-1;A++){var L=o[A];if(!(L in v))break t;v=v[L]}o=o[o.length-1],A=v[o],m=m(A),m!=A&&m!=null&&e(v,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function y(o,m,v){return o.call.apply(o.bind,arguments)}function p(o,m,v){return p=y,p.apply(null,arguments)}function T(o,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),o.apply(this,A)}}function S(o,m){function v(){}v.prototype=m.prototype,o.Z=m.prototype,o.prototype=new v,o.prototype.constructor=o,o.Ob=function(A,L,q){for(var it=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)it[Tt-2]=arguments[Tt];return m.prototype[L].apply(A,it)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function j(o){const m=o.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=o[A];return v}return[]}function J(o,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=o.length||0;const q=L.length||0;o.length=v+q;for(let it=0;it<q;it++)o[v+it]=L[it]}else o.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(o){d.setTimeout(()=>{throw o},0)}function et(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new W(()=>new Rt,o=>o.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Ct=!1,D=new tt,b=()=>{const o=Promise.resolve(void 0);wt=()=>{o.then(R)}};function R(){for(var o;o=et();){try{o.h.call(o.g)}catch(v){H(v)}var m=st;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Ct=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return o})();function C(o){return/^[\s\xa0]*$/.test(o)}function ie(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}S(ie,I),ie.prototype.init=function(o,m){const v=this.type=o.type,A=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(v=="mouseover"?m=o.fromElement:v=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),F=0;function at(o,m,v,A,L){this.listener=o,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++F,this.da=this.fa=!1}function mt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Bt(o,m,v){for(const A in o)m.call(v,o[A],A,o)}function Gt(o,m){for(const v in o)m.call(void 0,o[v],v,o)}function O(o){const m={};for(const v in o)m[v]=o[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(o,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)o[v]=A[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(A,v)&&(o[v]=A[v])}}function ot(o){this.src=o,this.g={},this.h=0}ot.prototype.add=function(o,m,v,A,L){const q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);const it=St(o,m,A,L);return it>-1?(m=o[it],v||(m.fa=!1)):(m=new at(m,this.src,q,!!A,L),m.fa=v,o.push(m)),m};function yt(o,m){const v=m.type;if(v in o.g){var A=o.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(mt(m),o.g[v].length==0&&(delete o.g[v],o.h--))}}function St(o,m,v,A){for(let L=0;L<o.length;++L){const q=o[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ve={};function ae(o,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(o,m[q],v,A,L);return null}return v=Fs(v),o&&o[De]?o.J(m,v,g(A)?!!A.capture:!1,L):ja(o,m,v,!1,A,L)}function ja(o,m,v,A,L,q){if(!m)throw Error("Invalid event type");const it=g(L)?!!L.capture:!!L;let Tt=qa(o);if(Tt||(o[Ut]=Tt=new ot(o)),v=Tt.add(m,v,A,it,q),v.proxy)return v;if(A=Vr(),v.proxy=A,A.src=o,A.listener=v,o.addEventListener)U||(L=it),L===void 0&&(L=!1),o.addEventListener(m.toString(),A,L);else if(o.attachEvent)o.attachEvent(Kn(m.toString()),A);else if(o.addListener&&o.removeListener)o.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Vr(){function o(v){return m.call(o.src,o.listener,v)}const m=Hs;return o}function Ir(o,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ir(o,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=Fs(v),o&&o[De]?(o=o.i,q=String(m).toString(),q in o.g&&(m=o.g[q],v=St(m,v,A,L),v>-1&&(mt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete o.g[q],o.h--)))):o&&(o=qa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=St(m,v,A,L)),(v=o>-1?m[o]:null)&&Nr(v))}function Nr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[De])yt(m.i,o);else{var v=o.type,A=o.proxy;m.removeEventListener?m.removeEventListener(v,A,o.capture):m.detachEvent?m.detachEvent(Kn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=qa(m))?(yt(v,o),v.h==0&&(v.src=null,m[Ut]=null)):mt(o)}}}function Kn(o){return o in Ve?Ve[o]:Ve[o]="on"+o}function Hs(o,m){if(o.da)o=!0;else{m=new ie(m,this);const v=o.listener,A=o.ha||o.src;o.fa&&Nr(o),o=v.call(A,m)}return o}function qa(o){return o=o[Ut],o instanceof ot?o:null}var Gs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fs(o){return typeof o=="function"?o:(o[Gs]||(o[Gs]=function(m){return o.handleEvent(m)}),o[Gs])}function pe(){M.call(this),this.i=new ot(this),this.M=this,this.G=null}S(pe,M),pe.prototype[De]=!0,pe.prototype.removeEventListener=function(o,m,v,A){Ir(this,o,m,v,A)};function Ie(o,m){var v,A=o.G;if(A)for(v=[];A;A=A.G)v.push(A);if(o=o.M,A=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var L=m;m=new I(A,o),rt(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=$i(q,A,!0,m)&&L;if(q=m.g=o,L=$i(q,A,!0,m)&&L,L=$i(q,A,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=$i(q,A,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const v=o.g[m];for(let A=0;A<v.length;A++)mt(v[A]);delete o.g[m],o.h--}}this.G=null},pe.prototype.J=function(o,m,v,A){return this.i.add(String(o),m,!1,v,A)},pe.prototype.K=function(o,m,v,A){return this.i.add(String(o),m,!0,v,A)};function $i(o,m,v,A){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Tt=it.listener,fe=it.ha||it.src;it.fa&&yt(o.i,it),L=Tt.call(fe,A)!==!1&&L}}return L&&!A.defaultPrevented}function Xc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=p(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Ru(o){o.g=Xc(()=>{o.g=null,o.i&&(o.i=!1,Ru(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(o){M.call(this),this.h=o,this.g={}}S(ka,M);var Qs=[];function Ys(o){Bt(o.g,function(m,v){this.g.hasOwnProperty(v)&&Nr(m)},o),o.g={}}ka.prototype.N=function(){ka.Z.N.call(this),Ys(this)},ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zi=d.JSON.stringify,$c=d.JSON.parse,Cu=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function wu(){}function Du(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){I.call(this,"d")}S(Be,I);function _n(){I.call(this,"c")}S(_n,I);var he={},Vu=null;function Or(){return Vu=Vu||new pe}he.Ia="serverreachability";function Iu(o){I.call(this,he.Ia,o)}S(Iu,I);function Xn(o){const m=Or();Ie(m,new Iu(m))}he.STAT_EVENT="statevent";function Ha(o,m){I.call(this,he.STAT_EVENT,o),this.stat=m}S(Ha,I);function ye(o){const m=Or();Ie(m,new Ha(m,o))}he.Ja="timingevent";function $n(o,m){I.call(this,he.Ja,o),this.size=m}S($n,I);function Zn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function xn(){this.g=!0}xn.prototype.ua=function(){this.g=!1};function Zc(o,m,v,A,L,q){o.info(function(){if(o.g)if(q){var it="",Tt=q.split("&");for(let qt=0;qt<Tt.length;qt++){var fe=Tt[qt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const An=re.split("_");it=An.length>=2&&An[1]=="type"?it+(re+"="+fe+"&"):it+(re+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function Nu(o,m,v,A,L,q,it){o.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function Jn(o,m,v,A){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jc(o,v)+(A?" "+A:"")})}function Ga(o,m){o.info(function(){return"TIMEOUT: "+m})}xn.prototype.info=function(){};function Jc(o,m){if(!o.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(o=0;o<q.length;o++)if(Array.isArray(q[o])){var v=q[o];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<A.length;it++)A[it]=""}}}}return Zi(q)}catch{return m}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ks={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xs;function Qa(){}S(Qa,wu),Qa.prototype.g=function(){return new XMLHttpRequest},Xs=new Qa;function bi(o){return encodeURIComponent(String(o))}function Ou(o){var m=1;o=o.split(":");const v=[];for(;m>0&&o.length;)v.push(o.shift()),m--;return o.length&&v.push(o.join(":")),v}function Un(o,m,v,A){this.j=o,this.i=m,this.l=v,this.S=A||1,this.V=new ka(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var _e={},xe={};function Wn(o,m,v){o.M=1,o.A=Ya(Ee(m)),o.u=v,o.R=!0,Mr(o,null)}function Mr(o,m){o.F=Date.now(),ti(o),o.B=Ee(o.A);var v=o.B,A=o.S;Array.isArray(A)||(A=[String(A)]),zr(v.i,"t",A),o.C=0,v=o.j.L,o.h=new Ln,o.g=Yu(o.j,v?m:null,!o.u),o.P>0&&(o.O=new Ze(p(o.Y,o,o.g),o.P)),m=o.V,v=o.g,A=o.ba;var L="readystatechange";Array.isArray(L)||(L&&(Qs[0]=L.toString()),L=Qs);for(let q=0;q<L.length;q++){const it=ae(v,L[q],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=o.J?O(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Xn(),Zc(o.i,o.v,o.B,o.l,o.S,o.u)}Un.prototype.ba=function(o){o=o.target;const m=this.O;m&&Pn(o)==3?m.j():this.Y(o)},Un.prototype.Y=function(o){try{if(o==this.g)t:{const Tt=Pn(this.g),fe=this.g.ya(),qt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||qt<=0?Xn(3):Xn(2)),ei(this);var m=this.g.ca();this.X=m;var v=Wc(this);if(this.o=m==200,Nu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(o=q)Jn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,o);else{this.o=!1,this.m=3,ye(12),on(this),vn(this);break t}}if(this.R){o=!0;let re;for(;!this.K&&this.C<v.length;)if(re=xu(this,v),re==xe){Tt==4&&(this.m=4,ye(14),o=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(re==_e){this.m=4,ye(15),Jn(this.i,this.l,v,"[Invalid Chunk]"),o=!1;break}else Jn(this.i,this.l,re,null),ni(this,re);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),o=!1),this.o=this.o&&o,!o)Jn(this.i,this.l,v,"[Invalid Chunked Response]"),on(this),vn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),cl(it),it.P=!0,ye(11))}}else Jn(this.i,this.l,v,null),ni(this,v);Tt==4&&on(this),this.o&&!this.K&&(Tt==4?Hu(this.j,this):(this.o=!1,ti(this)))}else Ci(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),on(this),vn(this)}}}catch{}finally{}};function Wc(o){if(!Mu(o))return o.g.la();const m=Pe(o.g);if(m==="")return"";let v="";const A=m.length,L=Pn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return on(o),vn(o),"";o.h.i=new d.TextDecoder}for(let q=0;q<A;q++)o.h.h=!0,v+=o.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,o.h.g+=v,o.C=0,o.h.g}function Mu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function xu(o,m){var v=o.C,A=m.indexOf(`
`,v);return A==-1?xe:(v=Number(m.substring(v,A)),isNaN(v)?_e:(A+=1,A+v>m.length?xe:(m=m.slice(A,A+v),o.C=A+v,m)))}Un.prototype.cancel=function(){this.K=!0,on(this)};function ti(o){o.T=Date.now()+o.H,xr(o,o.H)}function xr(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Zn(p(o.aa,o),m)}function ei(o){o.D&&(d.clearTimeout(o.D),o.D=null)}Un.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ga(this.i,this.B),this.M!=2&&(Xn(),ye(17)),on(this),this.m=2,vn(this)):xr(this,this.T-o)};function vn(o){o.j.I==0||o.K||Hu(o.j,o)}function on(o){ei(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,Ys(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ni(o,m){try{var v=o.j;if(v.I!=0&&(v.g==o||ai(v.h,o))){if(!o.L&&ai(v.h,o)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<o.F)kr(v),ra(v);else break t;tr(v),ye(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Zn(p(v.Va,v),6e3));ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ci(v,11)}else if((o.L||v.g==o)&&kr(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const re=qt[0];if(!(re<=v.K))if(v.K=re,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const An=qt[3];An!=null&&(v.ka=An,v.j.info("VER="+v.ka));const hi=qt[4];hi!=null&&(v.za=hi,v.j.info("SVER="+v.za));const jn=qt[5];jn!=null&&typeof jn=="number"&&jn>0&&(A=1.5*jn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const qn=o.g;if(qn){const er=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var q=A.h;q.g||er.indexOf("spdy")==-1&&er.indexOf("quic")==-1&&er.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Js(q,q.h),q.h=null))}if(A.G){const Hr=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hr&&(A.wa=Hr,Ft(A.J,A.G,Hr))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-o.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var it=o;if(A.na=Qu(A,A.L?A.ba:null,A.W),it.L){Ws(A.h,it);var Tt=it,fe=A.O;fe&&(Tt.H=fe),Tt.D&&(ei(Tt),ti(Tt)),A.g=it}else qu(A);v.i.length>0&&oi(v)}else qt[0]!="stop"&&qt[0]!="close"||ci(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?ci(v,7):ul(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}Xn(4)}catch{}}var ve=class{constructor(o,m){this.g=o,this.map=m}};function $s(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ii(o){return o.h?1:o.g?o.g.size:0}function ai(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Js(o,m){o.g?o.g.add(m):o.h=m}function Ws(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}$s.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function tl(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const v of o.g.values())m=m.concat(v.G);return m}return j(o.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ur(o,m){if(o){o=o.split("&");for(let v=0;v<o.length;v++){const A=o[v].indexOf("=");let L,q=null;A>=0?(L=o[v].substring(0,A),q=o[v].substring(A+1)):L=o[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function cn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof cn?(this.l=o.l,Ue(this,o.j),this.o=o.o,this.g=o.g,Ji(this,o.u),this.h=o.h,el(this,Pu(o.i)),this.m=o.m):o&&(m=String(o).match(Uu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ri(m[2]||""),this.g=ri(m[3]||"",!0),Ji(this,m[4]),this.h=ri(m[5]||"",!0),el(this,m[6]||"",!0),this.m=ri(m[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}cn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ka(m,Lr,!0),":");var v=this.g;return(v||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ka(m,Lr,!0),"@"),o.push(bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&o.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&o.push("/"),o.push(Ka(v,v.charAt(0)=="/"?nl:Lu,!0))),(v=this.i.toString())&&o.push("?",v),(v=this.m)&&o.push("#",Ka(v,zu)),o.join("")},cn.prototype.resolve=function(o){const m=Ee(this);let v=!!o.j;v?Ue(m,o.j):v=!!o.o,v?m.o=o.o:v=!!o.g,v?m.g=o.g:v=o.u!=null;var A=o.h;if(v)Ji(m,o.u);else if(v=!!o.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const Tt=L[it++];Tt=="."?A&&it==L.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&it==L.length&&q.push("")):(q.push(Tt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=o.i.toString()!=="",v?el(m,Pu(o.i)):v=!!o.m,v&&(m.m=o.m),m};function Ee(o){return new cn(o)}function Ue(o,m,v){o.j=v?ri(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ji(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function el(o,m,v){m instanceof ta?(o.i=m,Br(o.i,o.l)):(v||(m=Ka(m,Wi)),o.i=new ta(m,o.l))}function Ft(o,m,v){o.i.set(m,v)}function Ya(o){return Ft(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ri(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ka(o,m,v){return typeof o=="string"?(o=encodeURI(o).replace(m,tn),v&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function tn(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Lr=/[#\/\?@]/g,Lu=/[#\?:]/g,nl=/[#\?]/g,Wi=/[#\?@]/g,zu=/#/g;function ta(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&Ur(o.i,function(m,v){o.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ta.prototype,r.add=function(o,m){en(this),this.i=null,o=ea(this,o);let v=this.g.get(o);return v||this.g.set(o,v=[]),v.push(m),this.h+=1,this};function Bu(o,m){en(o),m=ea(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function il(o,m){return en(o),m=ea(o,m),o.g.has(m)}r.forEach=function(o,m){en(this),this.g.forEach(function(v,A){v.forEach(function(L){o.call(m,L,A,this)},this)},this)};function al(o,m){en(o);let v=[];if(typeof m=="string")il(o,m)&&(v=v.concat(o.g.get(ea(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)v=v.concat(o[m]);return v}r.set=function(o,m){return en(this),this.i=null,o=ea(this,o),il(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=al(this,o),o.length>0?String(o[0]):m):m};function zr(o,m,v){Bu(o,m),v.length>0&&(o.i=null,o.g.set(ea(o,m),j(v)),o.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=bi(v);v=al(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+bi(v[q])),o.push(it)}}return this.i=o.join("&")};function Pu(o){const m=new ta;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function ea(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Br(o,m){m&&!o.j&&(en(o),o.i=null,o.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Bu(this,A),zr(this,L,v))},o)),o.j=m}function zn(o,m){const v=new xn;if(d.Image){const A=new Image;A.onload=T(En,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(En,v,"TestLoadImage: error",!1,m,A),A.onabort=T(En,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(En,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=o}else m(!1)}function rl(o,m){const v=new xn,A=new AbortController,L=setTimeout(()=>{A.abort(),En(v,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?En(v,"TestPingServer: ok",!0,m):En(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(v,"TestPingServer: error",!1,m)})}function En(o,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function na(){this.g=new Cu}function si(o){this.i=o.Sb||null,this.h=o.ab||!1}S(si,wu),si.prototype.g=function(){return new Xa(this.i,this.h)};function Xa(o,m){pe.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Xa,pe),r=Xa.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Bn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pr(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pr(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?ia(this):Bn(this),this.readyState==3&&Pr(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,ia(this))},r.Na=function(o){this.g&&(this.response=o,ia(this))},r.ga=function(){this.g&&ia(this)};function ia(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Bn(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,o.push(v[0]+": "+v[1]),v=m.next();return o.join(`\r
`)};function Bn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Tn(o){let m="";return Bt(o,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function $a(o,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Tn(v),typeof o=="string"?v!=null&&bi(v):Ft(o,m,v))}function Kt(o){pe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var li=/^https?$/i,sl=["POST","PUT"];r=Kt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xs.g(),this.g.onreadystatechange=V(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Za(this,q);return}if(o=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(sl,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(q){Za(this,q)}};function Za(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,ll(o),Ri(o)}function ll(o){o.A||(o.A=!0,Ie(o,"complete"),Ie(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Ie(this,"complete"),Ie(this,"abort"),Ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},r.Xa=function(){Ja(this)};function Ja(o){if(o.h&&typeof c<"u"){if(o.v&&Pn(o)==4)setTimeout(o.Ca.bind(o),0);else if(Ie(o,"readystatechange"),Pn(o)==4){o.h=!1;try{const q=o.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let it=String(o.D).match(Uu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),A=!li.test(it?it.toLowerCase():"")}v=A}if(v)Ie(o,"complete"),Ie(o,"success");else{o.o=6;try{var L=Pn(o)>2?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.ca()+"]",ll(o)}}finally{Ri(o)}}}}function Ri(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const v=o.g;o.g=null,m||Ie(o,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Pn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Pn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),$c(m)}};function Pe(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ci(o){const m={};o=(o.g&&Pn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<o.length;A++){if(C(o[A]))continue;var v=Ou(o[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(o,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[o]||m}function aa(o){this.za=0,this.i=[],this.j=new xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,o),this.Za=ui("retryDelaySeedMs",1e4,o),this.Ta=ui("forwardChannelMaxRetries",2,o),this.va=ui("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new $s(o&&o.concurrentRequestLimit),this.Ba=new na,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=aa.prototype,r.ka=8,r.I=1,r.connect=function(o,m,v,A){ye(0),this.W=o,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Qu(this,null,this.W),oi(this)};function ul(o){if(jr(o),o.I==3){var m=o.V++,v=Ee(o.J);if(Ft(v,"SID",o.M),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Wa(o,v),m=new Un(o,o.j,m),m.M=2,m.A=Ya(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ti(m)}Fu(o)}function ra(o){o.g&&(cl(o),o.g.cancel(),o.g=null)}function jr(o){ra(o),o.v&&(d.clearTimeout(o.v),o.v=null),kr(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function oi(o){if(!Zs(o.h)&&!o.m){o.m=!0;var m=o.Ea;wt||b(),Ct||(wt(),Ct=!0),D.add(m,o),o.D=0}}function qr(o,m){return ii(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Zn(p(o.Ea,o,m),Gu(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const L=new Un(this,this.j,o);let q=this.o;if(this.U&&(q?(q=O(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ju(this,L,m),v=Ee(this.J),Ft(v,"RID",o),Ft(v,"CVER",22),this.G&&Ft(v,"X-HTTP-Session-Id",this.G),Wa(this,v),q&&(this.R?m="headers="+bi(Tn(q))+"&"+m:this.u&&$a(v,this.u,q)),Js(this.h,L),this.Ra&&Ft(v,"TYPE","init"),this.S?(Ft(v,"$req",m),Ft(v,"SID","null"),L.U=!0,Wn(L,v,null)):Wn(L,v,m),this.I=2}}else this.I==3&&(o?ol(this,o):this.i.length==0||Zs(this.h)||ol(this))};function ol(o,m){var v;m?v=m.l:v=o.V++;const A=Ee(o.J);Ft(A,"SID",o.M),Ft(A,"RID",v),Ft(A,"AID",o.K),Wa(o,A),o.u&&o.o&&$a(A,o.u,o.o),v=new Un(o,o.j,v,o.D+1),o.u===null&&(v.J=o.o),m&&(o.i=m.G.concat(o.i)),m=ju(o,v,1e3),v.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Js(o.h,v),Wn(v,A,m)}function Wa(o,m){o.H&&Bt(o.H,function(v,A){Ft(m,A,v)}),o.l&&Bt({},function(v,A){Ft(m,A,v)})}function ju(o,m,v){v=Math.min(o.i.length,v);const A=o.l?p(o.l.Ka,o.l,o):null;t:{var L=o.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let qt=!0;for(let re=0;re<v;re++){var q=L[re].g;const An=L[re].map;if(q-=Tt,q<0)Tt=Math.max(0,L[re].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var it=An instanceof Map?An:Object.entries(An);for(const[hi,jn]of it){let qn=jn;g(jn)&&(qn=Zi(jn)),fe.push(q+hi+"="+encodeURIComponent(qn))}}catch(hi){throw fe.push(q+"type="+encodeURIComponent("_badmap")),hi}}catch{A&&A(An)}}if(qt){it=fe.join("&");break t}}it=void 0}return o=o.i.splice(0,v),m.G=o,it}function qu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;wt||b(),Ct||(wt(),Ct=!0),D.add(m,o),o.A=0}}function tr(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Zn(p(o.Da,o),Gu(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,ku(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Zn(p(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),ra(this),ku(this))};function cl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function ku(o){o.g=new Un(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Ee(o.na);Ft(m,"RID","rpc"),Ft(m,"SID",o.M),Ft(m,"AID",o.K),Ft(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ft(m,"TO",o.ia),Ft(m,"TYPE","xmlhttp"),Wa(o,m),o.u&&o.o&&$a(m,o.u,o.o),o.O&&(o.g.H=o.O);var v=o.g;o=o.ba,v.M=1,v.A=Ya(Ee(m)),v.u=null,v.R=!0,Mr(v,o)}r.Va=function(){this.C!=null&&(this.C=null,ra(this),tr(this),ye(19))};function kr(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Hu(o,m){var v=null;if(o.g==m){kr(o),cl(o),o.g=null;var A=2}else if(ai(o.h,m))v=m.G,Ws(o.h,m),A=1;else return;if(o.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=o.D;A=Or(),Ie(A,new $n(A,v)),oi(o)}else qu(o);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&qr(o,m)||A==2&&tr(o)))switch(v&&v.length>0&&(m=o.h,m.i=m.i.concat(v)),L){case 1:ci(o,5);break;case 4:ci(o,10);break;case 3:ci(o,6);break;default:ci(o,2)}}}function Gu(o,m){let v=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(v*=2),v*m}function ci(o,m){if(o.j.info("Error code "+m),m==2){var v=p(o.bb,o),A=o.Ua;const L=!A;A=new cn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(A,"https"),Ya(A),L?zn(A.toString(),v):rl(A.toString(),v)}else ye(2);o.I=0,o.l&&o.l.pa(m),Fu(o),jr(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Fu(o){if(o.I=0,o.ja=[],o.l){const m=tl(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ja,m),J(o.ja,o.i),o.h.i.length=0,j(o.i),o.i.length=0),o.l.oa()}}function Qu(o,m,v){var A=v instanceof cn?Ee(v):new cn(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ji(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new cn(null);A&&Ue(q,A),m&&(q.g=m),L&&Ji(q,L),v&&(q.h=v),A=q}return v=o.G,m=o.wa,v&&m&&Ft(A,v,m),Ft(A,"VER",o.ka),Wa(o,A),A}function Yu(o,m,v){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Kt(new si({ab:v})):new Kt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function sa(){}sa.prototype.g=function(o,m){return new Je(o,m)};function Je(o,m){pe.call(this),this.g=new aa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!C(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new wi(this)}S(Je,pe),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){ul(this.g)},Je.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var v={};v.__data__=o,o=v}else this.v&&(v={},v.__data__=Zi(o),o=v);m.i.push(new ve(m.Ya++,o)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,Je.Z.N.call(this)};function Xu(o){Be.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const v in m){o=v;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}S(Xu,Be);function $u(){_n.call(this),this.status=1}S($u,_n);function wi(o){this.g=o}S(wi,Ku),wi.prototype.ra=function(){Ie(this.g,"a")},wi.prototype.qa=function(o){Ie(this.g,new Xu(o))},wi.prototype.pa=function(o){Ie(this.g,new $u)},wi.prototype.oa=function(){Ie(this.g,"b")},sa.prototype.createWebChannel=sa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Zv=function(){return new sa},$v=function(){return Or()},Xv=he,_d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,oc=Fa,Ks.COMPLETE="complete",Kv=Ks,Du.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,Zl=Du,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,Yv=Kt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",v_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new jv("@firebase/firestore");function Es(){return Tr.logLevel}function ut(r,...e){if(Tr.logLevel<=zt.DEBUG){const i=e.map(Gd);Tr.debug(`Firestore (${Bs}): ${r}`,...i)}}function Ki(r,...e){if(Tr.logLevel<=zt.ERROR){const i=e.map(Gd);Tr.error(`Firestore (${Bs}): ${r}`,...i)}}function Ds(r,...e){if(Tr.logLevel<=zt.WARN){const i=e.map(Gd);Tr.warn(`Firestore (${Bs}): ${r}`,...i)}}function Gd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Jv(r,s,i)}function Jv(r,e,i){let s=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ki(s),new Error(s)}function Ht(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||Jv(e,u,s)}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends zs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class Vb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ib{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const u=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gi,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await u(this.currentUser)}))},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gi)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Wv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class Nb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ob{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Nb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const u=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>u(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?u(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=xb(40);for(let c=0;c<u.length;++c)s.length<20&&u[c]<i&&(s+=e.charAt(u[c]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function vd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),c=e.charAt(s);if(u!==c)return sd(u)===sd(c)?Ot(u,c):sd(u)?1:-1}return Ot(r.length,e.length)}const Ub=55296,Lb=57343;function sd(r){const e=r.charCodeAt(0);return e>=Ub&&e<=Lb}function Vs(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__name__";class pi{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const c=pi.compareSegments(e.get(u),i.get(u));if(c!==0)return c}return Ot(e.length,i.length)}static compareSegments(e,i){const s=pi.isNumericId(e),u=pi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?pi.extractNumericId(e).compare(pi.extractNumericId(i)):vd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Wt extends pi{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const zb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends pi{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return zb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new Fe([T_])}static fromServerFormat(e){const i=[];let s="",u=0;const c=()=>{if(s.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[u+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(c(),u++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.path=e}static fromPath(e){return new dt(Wt.fromString(e))}static fromName(e){return new dt(Wt.fromString(e).popFirst(5))}static empty(){return new dt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r,e,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Bb(r,e,i,s){if(e===!0&&s===!0)throw new lt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A_(r){if(!dt.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function S_(r){if(dt.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Is(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mc(r);throw new lt($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e){const i={typeString:r};return e&&(i.value=e),i}function vu(r,e){if(!eE(r))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-62135596800,R_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*R_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<b_)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function Pb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new xa(u,dt.empty(),e)}function jb(r){return new xa(r.readTime,r.key,ou)}class xa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new xa(_t.min(),dt.empty(),ou)}static max(){return new xa(_t.max(),dt.empty(),ou)}}function qb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==kb)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,u)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let u=0,c=0,d=!1;e.forEach((g=>{++u,g.next((()=>{++c,d&&c===u&&i()}),(y=>s(y)))})),d=!0,c===u&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((u=>u?Z.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,c)=>{s.push(i.call(this,u,c))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,u)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next((T=>{d[p]=T,++g,g===c&&s(d)}),(T=>u(T)))}}))}static doWhile(e,i){return new Z(((s,u)=>{const c=()=>{e()===!0?i().next((()=>{c()}),u):s()};c()}))}}function Gb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function js(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=-1;function Uc(r){return r==null}function Ec(r){return r===0&&1/r==-1/0}function Fb(r){return typeof r=="number"&&Number.isInteger(r)&&!Ec(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="";function Qb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=C_(e)),e=Yb(r.get(i),e);return C_(e)}function Yb(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const c=r.charAt(u);switch(c){case"\0":i+="";break;case nE:i+="";break;default:i+=c}}return i}function C_(r){return r+nE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Rr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function iE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ic(this.root,e,this.comparator,!0)}}class ic{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,u,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=u??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,c){return new Ge(e??this.key,i??this.value,s??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const c=s(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,i,s),null):c===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Ge.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,u,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,c=s.getNext().key;if(this.comparator(u,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Me(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Fn([])}unionWith(e){let i=new Me(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aE("Invalid base64 string: "+c):c}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(u){let c="";for(let d=0;d<u.length;++d)c+=String.fromCharCode(u[d]);return c})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Kb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ua(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=Kb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",sE="__type__",lE="__previous_value__",uE="__local_write_time__";function Yd(r){return(r?.mapValue?.fields||{})[sE]?.stringValue===rE}function Lc(r){const e=r.mapValue.fields[lE];return Yd(e)?Lc(e):e}function cu(r){const e=Ua(r.mapValue.fields[uE].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,i,s,u,c,d,g,y,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const Tc="(default)";class hu{constructor(e,i){this.projectId=e,this.database=i||Tc}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__type__",$b="__max__",ac={mapValue:{}},cE="__vector__",Ac="value";function za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yd(r)?4:Jb(r)?9007199254740991:Zb(r)?10:11:pt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=za(r);if(i!==za(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return cu(r).isEqual(cu(e));case 3:return(function(u,c){if(typeof u.timestampValue=="string"&&typeof c.timestampValue=="string"&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const d=Ua(u.timestampValue),g=Ua(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,c){return La(u.bytesValue).isEqual(La(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,c){return ge(u.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(u.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,e);case 2:return(function(u,c){if("integerValue"in u&&"integerValue"in c)return ge(u.integerValue)===ge(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const d=ge(u.doubleValue),g=ge(c.doubleValue);return d===g?Ec(d)===Ec(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Vs(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(u,c){const d=u.mapValue.fields||{},g=c.mapValue.fields||{};if(w_(d)!==w_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ti(d[y],g[y])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function fu(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function Ns(r,e){if(r===e)return 0;const i=za(r),s=za(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return V_(r.timestampValue,e.timestampValue);case 4:return V_(cu(r),cu(e));case 5:return vd(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=La(c),y=La(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=Ot(g[p],y[p]);if(T!==0)return T}return Ot(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Ot(ge(c.latitude),ge(d.latitude));return g!==0?g:Ot(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return I_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},p=g[Ac]?.arrayValue,T=y[Ac]?.arrayValue,S=Ot(p?.values?.length||0,T?.values?.length||0);return S!==0?S:I_(p,T)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===ac.mapValue&&d===ac.mapValue)return 0;if(c===ac.mapValue)return 1;if(d===ac.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let S=0;S<y.length&&S<T.length;++S){const V=vd(y[S],T[S]);if(V!==0)return V;const j=Ns(g[y[S]],p[T[S]]);if(j!==0)return j}return Ot(y.length,T.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function V_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Ua(r),s=Ua(e),u=Ot(i.seconds,s.seconds);return u!==0?u:Ot(i.nanos,s.nanos)}function I_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const c=Ns(i[u],s[u]);if(c)return c}return Ot(i.length,s.length)}function Os(r){return Ed(r)}function Ed(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ua(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return La(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const c of i.values||[])u?u=!1:s+=",",s+=Ed(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",c=!0;for(const d of s)c?c=!1:u+=",",u+=`${d}:${Ed(i.fields[d])}`;return u+"}"})(r.mapValue):pt(61005,{value:r})}function cc(r){switch(za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(r);return e?16+cc(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,c)=>u+cc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Rr(s.fields,((c,d)=>{u+=c.length+cc(d)})),u})(r.mapValue);default:throw pt(13486,{value:r})}}function N_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Td(r){return!!r&&"integerValue"in r}function Kd(r){return!!r&&"arrayValue"in r}function O_(r){return!!r&&"nullValue"in r}function M_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function Zb(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===cE}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Rr(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=nu(r.arrayValue.values[i]);return e}return{...r}}function Jb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!hc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(i)}setAll(e){let i=Fe.emptyPath(),s={},u=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=nu(d):u.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,u)}delete(e){const i=this.field(e.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];hc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Rr(i,((u,c)=>e[u]=c));for(const u of s)delete e[u]}clone(){return new Nn(nu(this.value))}}function hE(r){const e=[];return Rr(r.fields,((i,s)=>{const u=new Fe([i]);if(hc(s)){const c=hE(s.mapValue).fields;if(c.length===0)e.push(u);else for(const d of c)e.push(u.child(d))}else e.push(u)})),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,u,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new $e(e,0,_t.min(),_t.min(),_t.min(),Nn.empty(),0)}static newFoundDocument(e,i,s,u){return new $e(e,1,i,_t.min(),s,u,0)}static newNoDocument(e,i){return new $e(e,2,i,_t.min(),_t.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,_t.min(),_t.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.position=e,this.inclusive=i}}function x_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const c=e[u],d=r.position[u];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),i.key):s=Ns(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function U_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Wb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class Ce extends fE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new e2(e,i,s):i==="array-contains"?new a2(e,s):i==="in"?new r2(e,s):i==="not-in"?new s2(e,s):i==="array-contains-any"?new l2(e,s):new Ce(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new n2(e,s):new i2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ns(i,this.value)):i!==null&&za(this.value)===za(i)&&this.matchesComparison(Ns(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends fE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Yn(e,i)}matches(e){return dE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dE(r){return r.op==="and"}function mE(r){return t2(r)&&dE(r)}function t2(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Ad(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Os(r.value);if(mE(r))return r.filters.map((e=>Ad(e))).join(",");{const e=r.filters.map((i=>Ad(i))).join(",");return`${r.op}(${e})`}}function gE(r,e){return r instanceof Ce?(function(s,u){return u instanceof Ce&&s.op===u.op&&s.field.isEqual(u.field)&&Ti(s.value,u.value)})(r,e):r instanceof Yn?(function(s,u){return u instanceof Yn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((c,d,g)=>c&&gE(d,u.filters[g])),!0):!1})(r,e):void pt(19439)}function pE(r){return r instanceof Ce?(function(i){return`${i.field.canonicalString()} ${i.op} ${Os(i.value)}`})(r):r instanceof Yn?(function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"})(r):"Filter"}class e2 extends Ce{constructor(e,i,s){super(e,i,s),this.key=dt.fromName(s.referenceValue)}matches(e){const i=dt.comparator(e.key,this.key);return this.matchesComparison(i)}}class n2 extends Ce{constructor(e,i){super(e,"in",i),this.keys=yE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class i2 extends Ce{constructor(e,i){super(e,"not-in",i),this.keys=yE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function yE(r,e){return(e.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class a2 extends Ce{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Kd(i)&&fu(i.arrayValue,this.value)}}class r2 extends Ce{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fu(this.value.arrayValue,i)}}class s2 extends Ce{constructor(e,i){super(e,"not-in",i)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fu(this.value.arrayValue,i)}}class l2 extends Ce{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>fu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,i=null,s=[],u=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function L_(r,e=null,i=[],s=[],u=null,c=null,d=null){return new u2(r,e,i,s,u,c,d)}function Xd(r){const e=Et(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ad(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Os(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Os(s))).join(",")),e.Te=i}return e.Te}function $d(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Wb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!U_(r.startAt,e.startAt)&&U_(r.endAt,e.endAt)}function Sd(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,i=null,s=[],u=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function o2(r,e,i,s,u,c,d,g){return new Eu(r,e,i,s,u,c,d,g)}function Zd(r){return new Eu(r)}function z_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _E(r){return r.collectionGroup!==null}function iu(r){const e=Et(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Fe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new bc(c,s))})),i.has(Fe.keyField().canonicalString())||e.Ie.push(new bc(Fe.keyField(),s))}return e.Ie}function yi(r){const e=Et(r);return e.Ee||(e.Ee=c2(e,iu(r))),e.Ee}function c2(r,e){if(r.limitType==="F")return L_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const c=u.dir==="desc"?"asc":"desc";return new bc(u.field,c)}));const i=r.endAt?new Sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sc(r.startAt.position,r.startAt.inclusive):null;return L_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function bd(r,e){const i=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Rd(r,e,i){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return $d(yi(r),yi(e))&&r.limitType===e.limitType}function vE(r){return`${Xd(yi(r))}|lt:${r.limitType}`}function Ts(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>pE(u))).join(", ")}]`),Uc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Os(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Os(u))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&(function(s,u){const c=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,u){for(const c of iu(s))if(!c.field.isKeyField()&&u.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const c of s.filters)if(!c.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,g,y){const p=x_(d,g,y);return d.inclusive?p<=0:p<0})(s.startAt,iu(s),u)||s.endAt&&!(function(d,g,y){const p=x_(d,g,y);return d.inclusive?p>=0:p>0})(s.endAt,iu(s),u))})(r,e)}function h2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function EE(r){return(e,i)=>{let s=!1;for(const u of iu(r)){const c=f2(u,e,i);if(c!==0)return c;s=s||u.field.isKeyField()}return 0}}function f2(r,e,i){const s=r.field.isKeyField()?dt.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Ns(y,p):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,c]of s)if(this.equalsFn(u,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((i,s)=>{for(const[u,c]of s)e(u,c)}))}isEmpty(){return iE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new ue(dt.comparator);function Xi(){return d2}const TE=new ue(dt.comparator);function Jl(...r){let e=TE;for(const i of r)e=e.insert(i.key,i);return e}function AE(r){let e=TE;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _r(){return au()}function SE(){return au()}function au(){return new Cr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const m2=new ue(dt.comparator),g2=new Me(dt.comparator);function Mt(...r){let e=g2;for(const i of r)e=e.add(i);return e}const p2=new Me(Ot);function y2(){return p2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function bE(r){return{integerValue:""+r}}function _2(r,e){return Fb(e)?bE(e):Jd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this._=void 0}}function v2(r,e,i){return r instanceof du?(function(u,c){const d={fields:{[sE]:{stringValue:rE},[uE]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&Yd(c)&&(c=Lc(c)),c&&(d.fields[lE]=c),{mapValue:d}})(i,e):r instanceof mu?CE(r,e):r instanceof gu?wE(r,e):(function(u,c){const d=RE(u,c),g=B_(d)+B_(u.Ae);return Td(d)&&Td(u.Ae)?bE(g):Jd(u.serializer,g)})(r,e)}function E2(r,e,i){return r instanceof mu?CE(r,e):r instanceof gu?wE(r,e):i}function RE(r,e){return r instanceof Rc?(function(s){return Td(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class du extends Pc{}class mu extends Pc{constructor(e){super(),this.elements=e}}function CE(r,e){const i=DE(e);for(const s of r.elements)i.some((u=>Ti(u,s)))||i.push(s);return{arrayValue:{values:i}}}class gu extends Pc{constructor(e){super(),this.elements=e}}function wE(r,e){let i=DE(e);for(const s of r.elements)i=i.filter((u=>!Ti(u,s)));return{arrayValue:{values:i}}}class Rc extends Pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function B_(r){return ge(r.integerValue||r.doubleValue)}function DE(r){return Kd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,i){this.field=e,this.transform=i}}function A2(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof mu&&u instanceof mu||s instanceof gu&&u instanceof gu?Vs(s.elements,u.elements,Ti):s instanceof Rc&&u instanceof Rc?Ti(s.Ae,u.Ae):s instanceof du&&u instanceof du})(r.transform,e.transform)}class S2{constructor(e,i){this.version=e,this.transformResults=i}}class Fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jc{}function VE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new NE(r.key,Fi.none()):new Tu(r.key,r.data,Fi.none());{const i=r.data,s=Nn.empty();let u=new Me(Fe.comparator);for(let c of e.fields)if(!u.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),u=u.add(c)}return new wr(r.key,s,new Fn(u.toArray()),Fi.none())}}function b2(r,e,i){r instanceof Tu?(function(u,c,d){const g=u.value.clone(),y=j_(u.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof wr?(function(u,c,d){if(!fc(u.precondition,c))return void c.convertToUnknownDocument(d.version);const g=j_(u.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(IE(u)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(u,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ru(r,e,i,s){return r instanceof Tu?(function(c,d,g,y){if(!fc(c.precondition,d))return g;const p=c.value.clone(),T=q_(c.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,e,i,s):r instanceof wr?(function(c,d,g,y){if(!fc(c.precondition,d))return g;const p=q_(c.fieldTransforms,y,d),T=d.data;return T.setAll(IE(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,e,i,s):(function(c,d,g){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function R2(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),c=RE(s.transform,u||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,c))}return i||null}function P_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Vs(s,u,((c,d)=>A2(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends jc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class wr extends jc{constructor(e,i,s,u,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function IE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function j_(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const c=r[u],d=c.transform,g=e.data.field(c.field);s.set(c.field,E2(d,g,i[u]))}return s}function q_(r,e,i){const s=new Map;for(const u of r){const c=u.transform,d=i.data.field(u.field);s.set(u.field,v2(c,d,e))}return s}class NE extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C2 extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&b2(c,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ru(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ru(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=SE();return this.mutations.forEach((u=>{const c=e.get(u.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(u.key)?null:g;const y=VE(d,g);y!==null&&s.set(u.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,((i,s)=>P_(i,s)))&&Vs(this.baseMutations,e.baseMutations,((i,s)=>P_(i,s)))}}class Wd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return m2})();const c=e.mutations;for(let d=0;d<c.length;d++)u=u.insert(c[d].key,s[d].version);return new Wd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Lt;function I2(r){switch(r){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function OE(r){if(r===void 0)return Ki("GRPC error has no .code"),$.UNKNOWN;switch(r){case Re.OK:return $.OK;case Re.CANCELLED:return $.CANCELLED;case Re.UNKNOWN:return $.UNKNOWN;case Re.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Re.INTERNAL:return $.INTERNAL;case Re.UNAVAILABLE:return $.UNAVAILABLE;case Re.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Re.NOT_FOUND:return $.NOT_FOUND;case Re.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Re.ABORTED:return $.ABORTED;case Re.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Re.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Oa([4294967295,4294967295],0);function k_(r){const e=N2().encode(r),i=new Qv;return i.update(e),new Uint8Array(i.digest())}function H_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Oa([i,s],0),new Oa([u,c],0)]}class tm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Oa.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Oa.fromNumber(s)));return u.compare(O2)===1&&(u=new Oa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=k_(e),[s,u]=H_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,u,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new tm(c,u,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=k_(e),[s,u]=H_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,u,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,i,s,u,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new qc(_t.min(),u,new ue(Ot),Xi(),Mt())}}class Au{constructor(e,i,s,u,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Au(s,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class ME{constructor(e,i){this.targetId=e,this.Ce=i}}class xE{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class G_{constructor(){this.ve=0,this.Fe=F_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),s=Mt();return this.Fe.forEach(((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:pt(38017,{changeType:c})}})),new Au(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=F_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xi(),this.Je=rc(),this.He=rc(),this.Ye=new ue(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const c=u.target;if(Sd(c))if(s===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:c=0}=i;let d,g;try{d=La(s).toUint8Array()}catch(y){if(y instanceof aE)return Ds("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new tm(d,u,c)}catch(y){return Ds(y instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Sd(g.target)){const y=new dt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,$e.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const u=new qc(e,i,this.Ye,this.je,s);return this.je=Xi(),this.Je=rc(),this.He=rc(),this.Ye=new ue(Ot),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new G_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Me(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Me(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new G_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function rc(){return new ue(dt.comparator)}function F_(){return new ue(dt.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},U2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L2={and:"AND",or:"OR"};class z2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Cd(r,e){return r.useProto3Json||Uc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function B2(r,e){return Cc(r,e.toTimestamp())}function _i(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const s=Ua(i);return new ne(s.seconds,s.nanos)})(r))}function em(r,e){return wd(r,e).canonicalString()}function wd(r,e){const i=(function(u){return new Wt(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function LE(r){const e=Wt.fromString(r);return Ht(qE(e),10190,{key:e.toString()}),e}function Dd(r,e){return em(r.databaseId,e.path)}function ld(r,e){const i=LE(e);if(i.get(1)!==r.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(BE(i))}function zE(r,e){return em(r.databaseId,e)}function P2(r){const e=LE(r);return e.length===4?Wt.emptyPath():BE(e)}function Vd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Q_(r,e,i){return{name:Dd(r,e),fields:i.value.mapValue.fields}}function j2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(Ht(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Ht(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?$.UNKNOWN:OE(p.code);return new lt(T,p.message||"")})(d);i=new xE(s,u,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=ld(r,s.document.name),c=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):_t.min(),g=new Nn({mapValue:{fields:s.document.fields}}),y=$e.newFoundDocument(u,c,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new dc(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=ld(r,s.document),c=s.readTime?_i(s.readTime):_t.min(),d=$e.newNoDocument(u,c),g=s.removedTargetIds||[];i=new dc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=ld(r,s.document),c=s.removedTargetIds||[];i=new dc([],c,u,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:c}=s,d=new V2(u,c),g=s.targetId;i=new ME(g,d)}}return i}function q2(r,e){let i;if(e instanceof Tu)i={update:Q_(r,e.key,e.value)};else if(e instanceof NE)i={delete:Dd(r,e.key)};else if(e instanceof wr)i={update:Q_(r,e.key,e.data),updateMask:$2(e.fieldMask)};else{if(!(e instanceof C2))return pt(16599,{Vt:e.type});i={verify:Dd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof du)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof mu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof gu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,c){return c.updateTime!==void 0?{updateTime:B2(u,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,e.precondition)),i}function k2(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(u,c){let d=u.updateTime?_i(u.updateTime):_i(c);return d.isEqual(_t.min())&&(d=_i(c)),new S2(d,u.transformResults||[])})(i,e)))):[]}function H2(r,e){return{documents:[zE(r,e.path)]}}function G2(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zE(r,u);const c=(function(p){if(p.length!==0)return jE(Yn.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(V){return{field:As(V.field),direction:Y2(V.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Cd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:u}}function F2(r){let e=P2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ht(s===1,65062);const T=i.from[0];T.allDescendants?u=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const V=PE(S);return V instanceof Yn&&mE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(J){return new bc(Ss(J.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,Uc(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(S){const V=!!S.before,j=S.values||[];return new Sc(j,V)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const V=!S.before,j=S.values||[];return new Sc(j,V)})(i.endAt)),o2(e,u,d,c,g,"F",y,p)}function Q2(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function PE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ss(i.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Ss(i.unaryFilter.field);return Ce.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ss(i.unaryFilter.field);return Ce.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ss(i.unaryFilter.field);return Ce.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ce.create(Ss(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Yn.create(i.compositeFilter.filters.map((s=>PE(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function Y2(r){return x2[r]}function K2(r){return U2[r]}function X2(r){return L2[r]}function As(r){return{fieldPath:r.canonicalString()}}function Ss(r){return Fe.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof Ce?(function(i){if(i.op==="=="){if(M_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NAN"}};if(O_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(M_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NAN"}};if(O_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(i.field),op:K2(i.op),value:i.value}}})(r):r instanceof Yn?(function(i){const s=i.getFilters().map((u=>jE(u)));return s.length===1?s[0]:{compositeFilter:{op:X2(i.op),filters:s}}})(r):pt(54877,{filter:r})}function $2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function qE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,i,s,u,c=_t.min(),d=_t.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.yt=e}}function J2(r){const e=F2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Cn=new tR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(xa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Me(Wt.comparator),c=!u.has(s);return this.index[i]=u.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Me(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(kE,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ms(0)}static cr(){return new Ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",eR=1048576;function X_([r,e],[i,s]){const u=Ot(r,i);return u===0?Ot(e,s):u}class nR{constructor(e){this.Ir=e,this.buffer=new Me(X_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();X_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(K_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){js(i)?ut(K_,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.Vr(3e5)}))}}class aR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(xc.ce);const s=new nR(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Y_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,c,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),u=this.params.maximumSequenceNumbersToCollect):u=S,d=Date.now(),this.nthSequenceNumber(e,u)))).next((S=>(s=S,g=Date.now(),this.removeTargets(e,s,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),Es()<=zt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:c,documentsRemoved:S}))))}}function rR(r,e){return new aR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.changes=new Cr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&ru(s.mutation,u,Fn.empty(),ne.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Mt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Mt()){const u=_r();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((c=>{let d=Jl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_r();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Mt())))}populateOverlays(e,i,s){const u=[];return s.forEach((c=>{i.has(c)||u.push(c)})),this.documentOverlayCache.getOverlays(e,u).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,u){let c=Xi();const d=au(),g=(function(){return au()})();return i.forEach(((y,p)=>{const T=s.get(p.key);u.has(p.key)&&(T===void 0||T.mutation instanceof wr)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),ru(T.mutation,p,T.mutation.getFieldMask(),ne.now())):d.set(p.key,Fn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new lR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=au();let u=new ue(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let T=s.get(y)||Fn.empty();T=g.applyToLocalView(p,T),s.set(y,T);const S=(u.get(g.batchId)||Mt()).add(y);u=u.insert(g.batchId,S)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,S=SE();T.forEach((V=>{if(!c.has(V)){const j=VE(i.get(V),s.get(V));j!==null&&S.set(V,j),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):_E(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((c=>{const d=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-c.size):Z.resolve(_r());let g=ou,y=c;return d.next((p=>Z.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{y=y.insert(T,V)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,y,p,Mt()))).next((T=>({batchId:g,changes:AE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new dt(i)).next((s=>{let u=Jl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const c=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const p=(function(S,V){return new Eu(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,u).next((T=>{T.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,u)))).next((d=>{c.forEach(((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,$e.newInvalidDocument(T)))}));let g=Jl();return d.forEach(((y,p)=>{const T=c.get(y);T!==void 0&&ru(T.mutation,p,Fn.empty(),ne.now()),Bc(i,p)&&(g=g.insert(y,p))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:_i(u.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:J2(u.bundledQuery),readTime:_i(u.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_r();return Z.forEach(i,(u=>this.getOverlay(e,u).next((c=>{c!==null&&s.set(u,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const u=_r(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&u.set(y.getKey(),y)}return Z.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let c=new ue(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=c.get(p.largestBatchId);T===null&&(T=_r(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=_r(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=u)););return Z.resolve(g)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new D2(i,s));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.Qr=new Me(ze.$r),this.Ur=new Me(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new dt(new Wt([])),s=new ze(i,e),u=new ze(i,e+1),c=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new dt(new Wt([])),s=new ze(i,e),u=new ze(i,e+1);let c=Mt();return this.Ur.forEachInRange([s,u],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return dt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||dt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(ze.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new w2(c,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new ze(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),c=u<0?0:u;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),u=new ze(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,u],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Me(Ot);return i.forEach((u=>{const c=new ze(u,0),d=new ze(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new ze(new dt(c),0);let g=new Me(Ot);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===u&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(u=>{const c=new ze(u.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),u=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.ri=e,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),c=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Xi();return i.forEach((u=>{const c=this.docs.get(u);s=s.insert(u,c?c.document.mutableCopy():$e.newInvalidDocument(u))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let c=Xi();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||qb(jb(T),s)<=0||(u.has(T.key)||Bc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,u){pt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new mR(this)}getSize(e){return Z.resolve(this.size)}}class mR extends sR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.persistence=e,this.si=new Cr((i=>Xd(i)),$d),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new nm,this.targetCount=0,this.ai=Ms.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ms(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let u=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)})),Z.waitFor(c).next((()=>u))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,c=[];return u&&i.forEach((d=>{c.push(u.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i){this.ui={},this.overlays={},this.ci=new xc(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=e(this),this.Pi=new gR(this),this.indexManager=new W2,this.remoteDocumentCache=(function(u){return new dR(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Z2(i),this.Ii=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new fR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const u=new pR(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((c=>this.referenceDelegate.di(u).next((()=>c)))).toPromise().then((c=>(u.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class pR extends Hb{constructor(e){super(),this.currentSequenceNumber=e}}class im{constructor(e){this.persistence=e,this.Ri=new nm,this.Vi=null}static mi(e){return new im(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const u=dt.fromPath(s);return this.gi(e,u).next((c=>{c||i.removeEntry(u,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class wc{constructor(e,i){this.persistence=e,this.pi=new Cr((s=>Qb(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=rR(this,i)}static mi(e,i){return new wc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,u)=>this.br(e,s,u).next((c=>c?Z.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),c=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=cc(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Mt(),u=Mt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new am(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uS()?8:Gb(sS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,u,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new yR;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(Es()<=zt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ts(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Es()<=zt.DEBUG&&ut("QueryEngine","Query:",Ts(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(Es()<=zt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ts(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Z.resolve())}ys(e,i){if(z_(i))return Z.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Rd(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Mt(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,Rd(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,s,u){return z_(i)||u.isEqual(_t.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,u)?Z.resolve(null):(Es()<=zt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ts(i)),this.vs(e,d,i,Pb(u,ou)).next((g=>g)))}))}Ds(e,i){let s=new Me(EE(e));return i.forEach(((u,c)=>{Bc(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Ss(e,i,s){return Es()<=zt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ts(i)),this.ps.getDocumentsMatchingQuery(e,i,xa.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",vR=3e8;class ER{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ue(Ot),this.xs=new Cr((c=>Xd(c)),$d),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function TR(r,e,i,s){return new ER(r,e,i,s)}async function GE(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((c=>(u=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Mt();for(const p of u){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function AR(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const S=p.batch,V=S.keys();let j=Z.resolve();return V.forEach((J=>{j=j.next((()=>T.getEntry(y,J))).next((W=>{const H=p.docVersions.get(J);Ht(H!==null,48541),W.version.compareTo(H)<0&&(S.applyToRemoteDocument(W,p),W.isValidDocument()&&(W.setReadTime(p.commitVersion),T.addEntry(W)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Mt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function FE(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SR(r,e){const i=Et(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];e.targetChanges.forEach(((T,S)=>{const V=u.get(S);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,T.addedDocuments,S))));let j=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?j=j.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),u=u.insert(S,j),(function(W,H,et){return W.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=vR?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(V,j,T)&&g.push(i.Pi.updateTargetData(c,j))}));let y=Xi(),p=Mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(bR(c,d,e.documentUpdates).next((T=>{y=T.ks,p=T.qs}))),!s.isEqual(_t.min())){const T=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,p))).next((()=>y))})).then((c=>(i.Ms=u,c)))}function bR(r,e,i){let s=Mt(),u=Mt();return i.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let d=Xi();return i.forEach(((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(u=u.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ut(rm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:u}}))}function RR(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Qd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CR(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((c=>c?(u=c,Z.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Va(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Id(r,e,i){const s=Et(r),u=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!js(d))throw d;ut(rm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function $_(r,e,i){const s=Et(r);let u=_t.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,T){const S=Et(y),V=S.xs.get(T);return V!==void 0?Z.resolve(S.Ms.get(V)):S.Pi.getTargetData(p,T)})(s,d,yi(e)).next((g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?c:Mt()))).next((g=>(wR(s,h2(e),g),{documents:g,Qs:c})))))}function wR(r,e,i){let s=r.Os.get(e)||_t.min();i.forEach(((u,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class Z_{constructor(){this.activeTargetIds=y2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DR{constructor(){this.Mo=new Z_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="ConnectivityMonitor";class W_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(J_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Nd(){return sc===null?sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,c){const d=Nd(),g=this.zo(e,i.toUriEncodedString());ut(ud,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,u,c);const{host:p}=new URL(g),T=kd(p);return this.Jo(e,g,y,s,T).then((S=>(ut(ud,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw Ds(ud,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",s),S}))}Ho(e,i,s,u,c,d){return this.Go(e,i,s,u,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,c)=>e[c]=u)),s&&s.headers.forEach(((u,c)=>e[c]=u))}zo(e,i){const s=IR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class MR extends NR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,c){const d=Nd();return new Promise(((g,y)=>{const p=new Yv;p.setWithCredentials(!0),p.listenOnce(Kv.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case oc.NO_ERROR:const S=p.getResponseJson();ut(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case oc.TIMEOUT:ut(Ke,`RPC '${e}' ${d} timed out`),y(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const V=p.getStatus();if(ut(Ke,`RPC '${e}' ${d} failed with status:`,V,"response text:",p.getResponseText()),V>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const J=j?.error;if(J&&J.status&&J.message){const W=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(tt)>=0?tt:$.UNKNOWN})(J.status);y(new lt(W,J.message))}else y(new lt($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new lt($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Ke,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(u);ut(Ke,`RPC '${e}' ${d} sending request:`,u),p.send(i,"POST",T,s,15)}))}T_(e,i,s){const u=Nd(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zv(),g=$v(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=c.join("");ut(Ke,`Creating RPC '${e}' stream ${u}: ${T}`,y);const S=d.createWebChannel(T,y);this.I_(S);let V=!1,j=!1;const J=new OR({Yo:H=>{j?ut(Ke,`Not sending because RPC '${e}' stream ${u} is closed:`,H):(V||(ut(Ke,`Opening RPC '${e}' stream ${u} transport.`),S.open(),V=!0),ut(Ke,`RPC '${e}' stream ${u} sending:`,H),S.send(H))},Zo:()=>S.close()}),W=(H,et,tt)=>{H.listen(et,(st=>{try{tt(st)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return W(S,Zl.EventType.OPEN,(()=>{j||(ut(Ke,`RPC '${e}' stream ${u} transport opened.`),J.o_())})),W(S,Zl.EventType.CLOSE,(()=>{j||(j=!0,ut(Ke,`RPC '${e}' stream ${u} transport closed`),J.a_(),this.E_(S))})),W(S,Zl.EventType.ERROR,(H=>{j||(j=!0,Ds(Ke,`RPC '${e}' stream ${u} transport errored. Name:`,H.name,"Message:",H.message),J.a_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),W(S,Zl.EventType.MESSAGE,(H=>{if(!j){const et=H.data[0];Ht(!!et,16349);const tt=et,st=tt?.error||tt[0]?.error;if(st){ut(Ke,`RPC '${e}' stream ${u} received error:`,st);const Rt=st.status;let wt=(function(b){const R=Re[b];if(R!==void 0)return OE(R)})(Rt),Ct=st.message;wt===void 0&&(wt=$.INTERNAL,Ct="Unknown error status: "+Rt+" with message "+st.message),j=!0,J.a_(new lt(wt,Ct)),S.close()}else ut(Ke,`RPC '${e}' stream ${u} received:`,et),J.u_(et)}})),W(g,Xv.STAT_EVENT,(H=>{H.stat===_d.PROXY?ut(Ke,`RPC '${e}' stream ${u} detected buffering proxy`):H.stat===_d.NOPROXY&&ut(Ke,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){return new z2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,i,s=1e3,u=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="PersistentStream";class YE{constructor(e,i,s,u,c,d,g,y){this.Mi=e,this.S_=s,this.b_=u,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new lt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xR extends YE{constructor(e,i,s,u,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=j2(this.serializer,e),s=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?_i(d.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Vd(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Sd(y)?{documents:H2(c,y)}:{query:G2(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=UE(c,d.resumeToken);const p=Cd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Cc(c,d.snapshotVersion.toTimestamp());const p=Cd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const s=Q2(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Vd(this.serializer),i.removeTarget=e,this.q_(i)}}class UR extends YE{constructor(e,i,s,u,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=k2(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Vd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>q2(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class zR extends LR{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,wd(i,s),u,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}Ho(e,i,s,u,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,wd(i,s),u,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ki(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="RemoteStore";class PR{constructor(e,i,s,u,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Dr(this)&&(ut(Ar,"Restarting streams for network reachability change."),await(async function(y){const p=Et(y);p.Ea.add(4),await Su(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Hc(p)})(this))}))})),this.Ra=new BR(s,u)}}async function Hc(r){if(Dr(r))for(const e of r.da)await e(!0)}async function Su(r){for(const e of r.da)await e(!1)}function KE(r,e){const i=Et(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),om(i)?um(i):qs(i).O_()&&lm(i,e))}function sm(r,e){const i=Et(r),s=qs(i);i.Ia.delete(e),s.O_()&&XE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Dr(i)&&i.Ra.set("Unknown"))}function lm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qs(r).Y_(e)}function XE(r,e){r.Va.Ue(e),qs(r).Z_(e)}function um(r){r.Va=new M2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.Ra.ua()}function om(r){return Dr(r)&&!qs(r).x_()&&r.Ia.size>0}function Dr(r){return Et(r).Ea.size===0}function $E(r){r.Va=void 0}async function jR(r){r.Ra.set("Online")}async function qR(r){r.Ia.forEach(((e,i)=>{lm(r,e)}))}async function kR(r,e){$E(r),om(r)?(r.Ra.ha(e),um(r)):r.Ra.set("Unknown")}async function HR(r,e,i){if(r.Ra.set("Online"),e instanceof xE&&e.state===2&&e.cause)try{await(async function(u,c){const d=c.cause;for(const g of c.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ia.delete(g),u.Va.removeTarget(g))})(r,e)}catch(s){ut(Ar,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(r,s)}else if(e instanceof dc?r.Va.Ze(e):e instanceof ME?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const s=await FE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),XE(c,y);const S=new Va(T.target,y,p,T.sequenceNumber);lm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ut(Ar,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,e,i){if(!js(e))throw e;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),i||(i=()=>FE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Ar,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Hc(r)}))}function ZE(r,e){return e().catch((i=>Dc(r,i,e)))}async function Gc(r){const e=Et(r),i=Ba(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qd;for(;GR(e);)try{const u=await RR(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,FR(e,u)}catch(u){await Dc(e,u)}JE(e)&&WE(e)}function GR(r){return Dr(r)&&r.Ta.length<10}function FR(r,e){r.Ta.push(e);const i=Ba(r);i.O_()&&i.X_&&i.ea(e.mutations)}function JE(r){return Dr(r)&&!Ba(r).x_()&&r.Ta.length>0}function WE(r){Ba(r).start()}async function QR(r){Ba(r).ra()}async function YR(r){const e=Ba(r);for(const i of r.Ta)e.ea(i.mutations)}async function KR(r,e,i){const s=r.Ta.shift(),u=Wd.from(s,e,i);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Gc(r)}async function XR(r,e){e&&Ba(r).X_&&await(async function(s,u){if((function(d){return I2(d)&&d!==$.ABORTED})(u.code)){const c=s.Ta.shift();Ba(s).B_(),await ZE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,u))),await Gc(s)}})(r,e),JE(r)&&WE(r)}async function ev(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),ut(Ar,"RemoteStore received new credentials");const s=Dr(i);i.Ea.add(3),await Su(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Hc(i)}async function $R(r,e){const i=Et(r);e?(i.Ea.delete(2),await Hc(i)):e||(i.Ea.add(2),await Su(i),i.Ra.set("Unknown"))}function qs(r){return r.ma||(r.ma=(function(i,s,u){const c=Et(i);return c.sa(),new xR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)})(r.datastore,r.asyncQueue,{Xo:jR.bind(null,r),t_:qR.bind(null,r),r_:kR.bind(null,r),H_:HR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),om(r)?um(r):r.Ra.set("Unknown")):(await r.ma.stop(),$E(r))}))),r.ma}function Ba(r){return r.fa||(r.fa=(function(i,s,u){const c=Et(i);return c.sa(),new UR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:QR.bind(null,r),r_:XR.bind(null,r),ta:YR.bind(null,r),na:KR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Gc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Ar,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i,s,u,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=c,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,c){const d=Date.now()+s,g=new cm(e,i,d,u,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hm(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),js(r))return new lt($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static emptySet(e){return new Rs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||dt.comparator(i.key,s.key):(i,s)=>dt.comparator(i.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,c=s.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.ga=new ue(dt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class xs{constructor(e,i,s,u,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,u,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new xs(e,i,Rs.emptySet(i),d,s,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JR{constructor(){this.queries=iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=Et(i),c=u.queries;u.queries=iv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function iv(){return new Cr((r=>vE(r)),zc)}async function t0(r,e){const i=Et(r);let s=3;const u=e.query;let c=i.queries.get(u);c?!c.ba()&&e.Da()&&(s=2):(c=new ZR,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(u,!0);break;case 1:c.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=hm(d,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&fm(i)}async function e0(r,e){const i=Et(r),s=e.query;let u=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?u=e.Da()?0:1:!c.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function WR(r,e){const i=Et(r);let s=!1;for(const u of e){const c=u.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(u)&&(s=!0);d.wa=u}}s&&fm(i)}function tC(r,e,i){const s=Et(r),u=s.queries.get(e);if(u)for(const c of u.Sa)c.onError(i);s.queries.delete(e)}function fm(r){r.Ca.forEach((e=>{e.next()}))}var Od,av;(av=Od||(Od={})).Ma="default",av.Cache="cache";class n0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class eC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=EE(e),this.tu=new Rs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new nv,u=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const y=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,p=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((T,S)=>{const V=u.get(T),j=Bc(this.query,S)?S:null,J=!!V&&this.mutatedKeys.has(V.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;V&&j?V.data.isEqual(j.data)?J!==W&&(s.track({type:3,doc:j}),H=!0):this.su(V,j)||(s.track({type:2,doc:j}),H=!0,(y&&this.eu(j,y)>0||p&&this.eu(j,p)<0)&&(g=!0)):!V&&j?(s.track({type:0,doc:j}),H=!0):V&&!j&&(s.track({type:1,doc:V}),H=!0,(y||p)&&(g=!0)),H&&(j?(d=d.add(j),c=W?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(j,J){const W=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:H})}};return W(j)-W(J)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(s),u=u??!1;const g=i&&!u?this._u():[],y=this.Xa.size===0&&this.current&&!u?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new xs(this.query,e.tu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new a0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new i0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return xs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dm="SyncEngine";class nC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class iC{constructor(e){this.key=e,this.hu=!1}}class aC{constructor(e,i,s,u,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Cr((g=>vE(g)),zc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new nm,this.Vu={},this.mu=new Map,this.fu=Ms.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rC(r,e,i=!0){const s=c0(r);let u;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),u=c.view.lu()):u=await r0(s,e,i,!0),u}async function sC(r,e){const i=c0(r);await r0(i,e,!0,!1)}async function r0(r,e,i,s){const u=await CR(r.localStore,yi(e)),c=u.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await lC(r,e,c,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&KE(r.remoteStore,u),g}async function lC(r,e,i,s,u){r.pu=(S,V,j)=>(async function(W,H,et,tt){let st=H.view.ru(et);st.Cs&&(st=await $_(W.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,st))));const Rt=tt&&tt.targetChanges.get(H.targetId),wt=tt&&tt.targetMismatches.get(H.targetId)!=null,Ct=H.view.applyChanges(st,W.isPrimaryClient,Rt,wt);return sv(W,H.targetId,Ct.au),Ct.snapshot})(r,S,V,j);const c=await $_(r.localStore,e,!0),d=new eC(e,c.Qs),g=d.ru(c.documents),y=Au.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),p=d.applyChanges(g,r.isPrimaryClient,y);sv(r,i,p.au);const T=new nC(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),p.snapshot}async function uC(r,e,i){const s=Et(r),u=s.Tu.get(e),c=s.Iu.get(u.targetId);if(c.length>1)return s.Iu.set(u.targetId,c.filter((d=>!zc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Id(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&sm(s.remoteStore,u.targetId),Md(s,u.targetId)})).catch(Ps)):(Md(s,u.targetId),await Id(s.localStore,u.targetId,!0))}async function oC(r,e){const i=Et(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sm(i.remoteStore,s.targetId))}async function cC(r,e,i){const s=yC(r);try{const u=await(function(d,g){const y=Et(d),p=ne.now(),T=g.reduce(((j,J)=>j.add(J.key)),Mt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let J=Xi(),W=Mt();return y.Ns.getEntries(j,T).next((H=>{J=H,J.forEach(((et,tt)=>{tt.isValidDocument()||(W=W.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,J))).next((H=>{S=H;const et=[];for(const tt of g){const st=R2(tt,S.get(tt.key).overlayedDocument);st!=null&&et.push(new wr(tt.key,st,hE(st.value.mapValue),Fi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,p,et,g)})).next((H=>{V=H;const et=H.applyToLocalDocumentSet(S,W);return y.documentOverlayCache.saveOverlays(j,H.batchId,et)}))})).then((()=>({batchId:V.batchId,changes:AE(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ue(Ot)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(s,u.batchId,i),await bu(s,u.changes),await Gc(s.remoteStore)}catch(u){const c=hm(u,"Failed to persist write");i.reject(c)}}async function s0(r,e){const i=Et(r);try{const s=await SR(i.localStore,e);e.targetChanges.forEach(((u,c)=>{const d=i.Au.get(c);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Ht(d.hu,14607):u.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await bu(i,s,e)}catch(s){await Ps(s)}}function rv(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let p=!1;y.queries.forEach(((T,S)=>{for(const V of S.Sa)V.va(g)&&(p=!0)})),p&&fm(y)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hC(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),c=u&&u.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const g=Mt().add(c),y=new qc(_t.min(),new Map,new ue(Ot),d,g);await s0(s,y),s.du=s.du.remove(c),s.Au.delete(e),mm(s)}else await Id(s.localStore,e,!1).then((()=>Md(s,e,i))).catch(Ps)}async function fC(r,e){const i=Et(r),s=e.batch.batchId;try{const u=await AR(i.localStore,e);u0(i,s,null),l0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await bu(i,u)}catch(u){await Ps(u)}}async function dC(r,e,i){const s=Et(r);try{const u=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((S=>(Ht(S!==null,37113),T=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(s.localStore,e);u0(s,e,i),l0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await bu(s,u)}catch(u){await Ps(u)}}function l0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function u0(r,e,i){const s=Et(r);let u=s.Vu[s.currentUser.toKey()];if(u){const c=u.get(e);c&&(i?c.reject(i):c.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function Md(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||o0(r,s)}))}function o0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(sm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),mm(r))}function sv(r,e,i){for(const s of i)s instanceof i0?(r.Ru.addReference(s.key,e),mC(r,s)):s instanceof a0?(ut(dm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||o0(r,s.key)):pt(19791,{wu:s})}function mC(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(dm,"New document in limbo: "+i),r.Eu.add(s),mm(r))}function mm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new dt(Wt.fromString(e)),s=r.fu.next();r.Au.set(s,new iC(i)),r.du=r.du.insert(i,s),KE(r.remoteStore,new Va(yi(Zd(i.path)),s,"TargetPurposeLimboResolution",xc.ce))}}async function bu(r,e,i){const s=Et(r),u=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,e,i).then((p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){u.push(p);const T=am.As(y.targetId,p);c.push(T)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(y,p){const T=Et(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(p,(V=>Z.forEach(V.Es,(j=>T.persistence.referenceDelegate.addReference(S,V.targetId,j))).next((()=>Z.forEach(V.ds,(j=>T.persistence.referenceDelegate.removeReference(S,V.targetId,j)))))))))}catch(S){if(!js(S))throw S;ut(rm,"Failed to update sequence numbers: "+S)}for(const S of p){const V=S.targetId;if(!S.fromCache){const j=T.Ms.get(V),J=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(J);T.Ms=T.Ms.insert(V,W)}}})(s.localStore,c))}async function gC(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){ut(dm,"User change. New user:",e.toKey());const s=await GE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(i,s.Ls)}}function pC(r,e){const i=Et(r),s=i.Au.get(e);if(s&&s.hu)return Mt().add(s.key);{let u=Mt();const c=i.Iu.get(e);if(!c)return u;for(const d of c){const g=i.Tu.get(d);u=u.unionWith(g.view.nu)}return u}}function c0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=s0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hC.bind(null,e),e.Pu.H_=WR.bind(null,e.eventManager),e.Pu.yu=tC.bind(null,e.eventManager),e}function yC(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dC.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TR(this.persistence,new _R,e.initialUser,this.serializer)}Cu(e){return new HE(im.mi,this.serializer)}Du(e){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class _C extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new HE((s=>wc.mi(s,i)),this.serializer)}}class xd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JR})()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),s=(function(c){return new MR(c)})(e.databaseInfo);return(function(c,d,g,y){return new zR(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,c,d,g){return new PR(s,u,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>rv(this.syncEngine,i,0)),(function(){return W_.v()?new W_:new VR})())}createSyncEngine(e,i){return(function(u,c,d,g,y,p,T){const S=new aC(u,c,d,g,y,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Et(i);ut(Ar,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class vC{constructor(e,i,s,u,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Xe.UNAUTHENTICATED,this.clientId=Fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ut(Pa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Pa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=hm(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cd(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Pa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await GE(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function lv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await EC(r);ut(Pa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>ev(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>ev(e.remoteStore,u))),r._onlineComponents=e}async function EC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Pa,"Using user provided OfflineComponentProvider");try{await cd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===$.FAILED_PRECONDITION||u.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;Ds("Error using user provided cache. Falling back to memory cache: "+i),await cd(r,new Vc)}}else ut(Pa,"Using default OfflineComponentProvider"),await cd(r,new _C(void 0));return r._offlineComponents}async function f0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Pa,"Using user provided OnlineComponentProvider"),await lv(r,r._uninitializedComponentsProvider._online)):(ut(Pa,"Using default OnlineComponentProvider"),await lv(r,new xd))),r._onlineComponents}function TC(r){return f0(r).then((e=>e.syncEngine))}async function d0(r){const e=await f0(r),i=e.eventManager;return i.onListen=rC.bind(null,e.syncEngine),i.onUnlisten=uC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,e.syncEngine),i}function AC(r,e,i={}){const s=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const T=new h0({next:V=>{T.Nu(),d.enqueueAndForget((()=>e0(c,S)));const j=V.docs.has(g);!j&&V.fromCache?p.reject(new lt($.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&V.fromCache&&y&&y.source==="server"?p.reject(new lt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new n0(Zd(g.path),T,{includeMetadataChanges:!0,qa:!0});return t0(c,S)})(await d0(r),r.asyncQueue,e,i,s))),s.promise}function SC(r,e,i={}){const s=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,p){const T=new h0({next:V=>{T.Nu(),d.enqueueAndForget((()=>e0(c,S))),V.fromCache&&y.source==="server"?p.reject(new lt($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new n0(g,T,{includeMetadataChanges:!0,qa:!0});return t0(c,S)})(await d0(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firestore.googleapis.com",ov=!0;class cv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g0,this.ssl=ov}else this.host=e.host,this.ssl=e.ssl??ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Db;switch(s.type){case"firstParty":return new Ob(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=uv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),uv.delete(i),s.terminate())})(this),Promise.resolve()}}function bC(r,e,i,s={}){r=Is(r,Fc);const u=kd(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;u&&(eS(`https://${g}`),rS("Firestore",!0)),c.host!==g0&&c.host!==g&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:u,emulatorOptions:s};if(!yc(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Xe.MOCK_USER;else{p=nS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xe(S)}r._authCredentials=new Vb(new Wv(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Oe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oe(this.firestore,e,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(vu(i,Oe._jsonSchema))return new Oe(e,s||null,new dt(Wt.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:we("string",Oe._jsonSchemaVersion),referencePath:we("string")};class Ma extends ks{constructor(e,i,s){super(e,i,Zd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oe(this.firestore,null,new dt(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function gm(r,e,...i){if(r=ws(r),tE("collection","path",e),r instanceof Fc){const s=Wt.fromString(e,...i);return S_(s),new Ma(r,null,s)}{if(!(r instanceof Oe||r instanceof Ma))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return S_(s),new Ma(r.firestore,null,s)}}function p0(r,e,...i){if(r=ws(r),arguments.length===1&&(e=Fd.newId()),tE("doc","path",e),r instanceof Fc){const s=Wt.fromString(e,...i);return A_(s),new Oe(r,null,new dt(s))}{if(!(r instanceof Oe||r instanceof Ma))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return A_(s),new Oe(r.firestore,r instanceof Ma?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="AsyncQueue";class fv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const s=od();s&&ut(hv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=od();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=od();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!js(e))throw e;ut(hv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ki("INTERNAL UNHANDLED ERROR: ",dv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=cm.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(u),u}uc(){this.nc&&pt(47125,{Pc:dv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function dv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Qc extends Fc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new fv,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fv(e),this._firestoreClient=void 0,await e}}}function RC(r,e){const i=typeof r=="object"?r:gb(),s=typeof r=="string"?r:Tc,u=cb(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const c=WA("firestore");c&&bC(u,...c)}return u}function pm(r){if(r._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CC(r),r._firestoreClient}function CC(r){const e=r._freezeSettings(),i=(function(u,c,d,g){return new Xb(u,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,m0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new vC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:we("string",On._jsonSchemaVersion),bytes:we("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(vu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:we("string",vi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==u[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:we("string",Ei._jsonSchemaVersion),vectorValues:we("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=/^__.*__$/;class DC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Tu(e,this.data,i,this.fieldTransforms)}}function y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class vm{constructor(e,i,s,u,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ic(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(y0(this.Ac)&&wC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||kc(e)}Cc(e,i,s,u=!1){return new vm({Ac:e,methodName:i,Dc:s,path:Fe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _0(r){const e=r._freezeSettings(),i=kc(r._databaseId);return new VC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function IC(r,e,i,s,u,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,u);T0("Data must be an object, but it was:",d,s);const g=v0(s,d);let y,p;if(c.merge)y=new Fn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const V=OC(e,S,i);if(!d.contains(V))throw new lt($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);xC(T,V)||T.push(V)}y=new Fn(T),p=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=d.fieldTransforms;return new DC(new Nn(g),y,p)}class Em extends _m{_toFieldTransform(e){return new T2(e.path,new du)}isEqual(e){return e instanceof Em}}function NC(r,e,i,s=!1){return Tm(i,r.Cc(s?4:3,e))}function Tm(r,e){if(E0(r=ws(r)))return T0("Unsupported field value:",e,r),v0(r,e);if(r instanceof _m)return(function(s,u){if(!y0(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(u);c&&u.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const c=[];let d=0;for(const g of s){let y=Tm(g,u.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(s,u){if((s=ws(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _2(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Cc(u.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(u.serializer,c)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:UE(u.serializer,s._byteString)};if(s instanceof Oe){const c=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:em(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,g){return{mapValue:{fields:{[oE]:{stringValue:cE},[Ac]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Jd(g.serializer,p)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${Mc(s)}`)})(r,e)}function v0(r,e){const i={};return iE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(r,((s,u)=>{const c=Tm(u,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function E0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof vi||r instanceof On||r instanceof Oe||r instanceof _m||r instanceof Ei)}function T0(r,e,i){if(!E0(i)||!eE(i)){const s=Mc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function OC(r,e,i){if((e=ws(e))instanceof ym)return e._internalPath;if(typeof e=="string")return A0(r,e);throw Ic("Field path arguments must be of type string or ",r,!1,void 0,i)}const MC=new RegExp("[~\\*/\\[\\]]");function A0(r,e,i){if(e.search(MC)>=0)throw Ic(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ym(...e.split("."))._internalPath}catch{throw Ic(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ic(r,e,i,s,u){const c=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${u}`),y+=")"),new lt($.INVALID_ARGUMENT,g+r+y)}function xC(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,i,s,u,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Am("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UC extends S0{data(){return super.data()}}function Am(r,e){return typeof e=="string"?A0(r,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class zC extends Sm{}function BC(r,e,...i){let s=[];e instanceof Sm&&s.push(e),s=s.concat(i),(function(c){const d=c.filter((y=>y instanceof bm)).length,g=c.filter((y=>y instanceof Yc)).length;if(d>1||d>0&&g>0)throw new lt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Yc extends zC{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Yc(e,i,s)}_apply(e){const i=this._parse(e);return b0(e._query,i),new ks(e.firestore,e.converter,bd(e._query,i))}_parse(e){const i=_0(e.firestore);return(function(c,d,g,y,p,T,S){let V;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){gv(S,T);const J=[];for(const W of S)J.push(mv(y,c,W));V={arrayValue:{values:J}}}else V=mv(y,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||gv(S,T),V=NC(g,d,S,T==="in"||T==="not-in");return Ce.create(p,T,V)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function PC(r,e,i){const s=e,u=Am("where",r);return Yc._create(u,s,i)}class bm extends Sm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bm(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Yn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,c){let d=u;const g=c.getFlattenedFilters();for(const y of g)b0(d,y),d=bd(d,y)})(e._query,i),new ks(e.firestore,e.converter,bd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mv(r,e,i){if(typeof(i=ws(i))=="string"){if(i==="")throw new lt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&i.indexOf("/")!==-1)throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!dt.isDocumentKey(s))throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return N_(r,new dt(s))}if(i instanceof Oe)return N_(r,i._key);throw new lt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(i)}.`)}function gv(r,e){if(!Array.isArray(r)||r.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b0(r,e){const i=(function(u,c){for(const d of u)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class jC{convertValue(e,i="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Rr(e,((u,c)=>{s[u]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Ac].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Lc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const i=Ua(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Ht(qE(s),9688,{name:e});const u=new hu(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return u.isEqual(i)||Ki(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class tu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vr extends S0{constructor(e,i,s,u,c,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Am("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",vr._jsonSchema={type:we("string",vr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class mc extends vr{data(e={}){return super.data(e)}}class Cs{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new tu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new mc(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,c){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const y=new mc(u._firestore,u._userDataWriter,g.doc.key,g.doc,new tu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new mc(u._firestore,u._userDataWriter,g.doc.key,g.doc,new tu(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:kC(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),u.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){r=Is(r,Oe);const e=Is(r.firestore,Qc);return AC(pm(e),r._key).then((i=>QC(e,r,i)))}Cs._jsonSchemaVersion="firestore/querySnapshot/1.0",Cs._jsonSchema={type:we("string",Cs._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class R0 extends jC{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function C0(r){r=Is(r,ks);const e=Is(r.firestore,Qc),i=pm(e),s=new R0(e);return LC(r._query),SC(i,r._query).then((u=>new Cs(e,s,r,u)))}function GC(r,e){const i=Is(r.firestore,Qc),s=p0(r),u=qC(r.converter,e);return FC(i,[IC(_0(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Fi.exists(!1))]).then((()=>s))}function FC(r,e){return(function(s,u){const c=new Gi;return s.asyncQueue.enqueueAndForget((async()=>cC(await TC(s),u,c))),c.promise})(pm(r),e)}function QC(r,e,i){const s=i.docs.get(e._key),u=new R0(r);return new vr(r,u,e._key,s,new tu(i.hasPendingWrites,i.fromCache),e.converter)}function YC(){return new Em("serverTimestamp")}(function(e,i=!0){(function(u){Bs=u})(mb),vc(new lu("firestore",((s,{instanceIdentifier:u,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Qc(new Ib(s.getProvider("auth-internal")),new Mb(d,s.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(p.options.projectId,T)})(d,u),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),bs(__,v_,e),bs(__,v_,"esm2020")})();const KC={apiKey:"AIzaSyBGciyMm4NVoGnSxeWY-95leKorogNIZe0",authDomain:"tienda-de-termos.firebaseapp.com",projectId:"tienda-de-termos",storageBucket:"tienda-de-termos.firebasestorage.app",messagingSenderId:"969598475617",appId:"1:969598475617:web:71a030c5ee34070f203920"},XC=Hv(KC),Kc=RC(XC);async function $C(){return(await C0(gm(Kc,"products"))).docs.map(e=>({id:e.id,...e.data()}))}async function ZC(r){const e=BC(gm(Kc,"products"),PC("category","==",r));return(await C0(e)).docs.map(s=>({id:s.id,...s.data()}))}async function JC(r){const e=p0(Kc,"products",r),i=await HC(e);return i.exists()?{id:i.id,...i.data()}:null}async function WC(r){return(await GC(gm(Kc,"orders"),{...r,createdAt:YC()})).id}function pv(){const[r,e]=Q.useState([]),{categoryId:i}=wv();return Q.useEffect(()=>{(async()=>{if(i){const u=await ZC(i);e(u)}else{const u=await $C();e(u)}})()},[i]),nt.jsxs("div",{className:"item-list-container",children:[nt.jsx("h1",{children:i?`Termos de ${i}`:"Catlogo de Termos"}),nt.jsx(kA,{products:r})]})}function tw({stock:r,initial:e,onAdd:i}){const[s,u]=Q.useState(e),c=()=>{s<r&&u(s+1)},d=()=>{s>1&&u(s-1)};return nt.jsxs("div",{className:"item-count",children:[nt.jsxs("div",{children:[nt.jsx("button",{onClick:d,children:"-"}),nt.jsx("span",{children:s}),nt.jsx("button",{onClick:c,children:"+"})]}),nt.jsx("button",{onClick:()=>i(s),disabled:r===0,children:r>0?"Agregar al carrito":"Sin stock"})]})}function ew({product:r}){const{addItem:e}=Ls(),[i,s]=Q.useState(!1),u=c=>{e(r,c),s(!0)};return nt.jsxs("div",{className:"item-detail",children:[nt.jsx("img",{src:r.image,alt:r.title}),nt.jsxs("div",{className:"item-detail-info",children:[nt.jsx("h2",{children:r.title}),nt.jsx("p",{children:r.description}),nt.jsx("p",{children:nt.jsxs("strong",{children:["$",r.price]})}),i?nt.jsx("p",{children:" Producto agregado al carrito"}):nt.jsx(tw,{stock:r.stock,initial:1,onAdd:u})]})]})}function nw(){const[r,e]=Q.useState(void 0),{id:i}=wv();return Q.useEffect(()=>{(async()=>{try{const u=await JC(i);e(u)}catch(u){console.error("Error cargando producto:",u),e(null)}})()},[i]),r===void 0?nt.jsx("p",{children:"Cargando producto..."}):r?nt.jsx("div",{className:"item-detail-container",children:nt.jsx(ew,{product:r})}):nt.jsx("p",{children:"Producto no encontrado."})}function iw({product:r}){const{removeItem:e}=Ls();return nt.jsxs("div",{className:"cart-item",children:[nt.jsx("img",{src:r.image,alt:r.title}),nt.jsxs("div",{children:[nt.jsx("h4",{children:r.title}),nt.jsxs("p",{children:["Cantidad: ",r.quantity]}),nt.jsxs("p",{children:["Subtotal: $",r.quantity*r.price]}),nt.jsx("button",{onClick:()=>e(r.id),children:"Eliminar"})]})]})}function aw(){const{cart:r,clearCart:e,totalPrice:i}=Ls();return r.length===0?nt.jsxs("div",{className:"cart-empty",children:[nt.jsx("h2",{children:"Tu carrito est vaco "}),nt.jsx(Er,{to:"/",children:"Volver al catlogo"})]}):nt.jsxs("div",{className:"cart",children:[nt.jsx("h2",{children:"Carrito de Compras"}),r.map(s=>nt.jsx(iw,{product:s},s.id)),nt.jsxs("h3",{children:["Total: $",i]}),nt.jsx("button",{onClick:e,children:"Vaciar carrito"}),nt.jsx(Er,{to:"/checkout",className:"btn",children:"Finalizar compra"})]})}function rw(){const{cart:r,totalPrice:e,clearCart:i}=Ls(),[s,u]=Q.useState({nombre:"",email:"",telefono:""}),[c,d]=Q.useState(""),g=p=>{u({...s,[p.target.name]:p.target.value})},y=async p=>{p.preventDefault();const S=await WC({buyer:s,items:r,total:e,date:new Date});d(S),i()};return c?nt.jsxs("div",{className:"checkout-success",children:[nt.jsx("h2",{children:" Gracias por tu compra!"}),nt.jsxs("p",{children:["ID de orden: ",nt.jsx("strong",{children:c})]})]}):nt.jsxs("div",{className:"checkout-form",children:[nt.jsx("h2",{children:"Finalizar compra"}),nt.jsxs("form",{onSubmit:y,children:[nt.jsx("input",{type:"text",name:"nombre",placeholder:"Nombre completo",value:s.nombre,onChange:g,required:!0}),nt.jsx("input",{type:"email",name:"email",placeholder:"Correo electrnico",value:s.email,onChange:g,required:!0}),nt.jsx("input",{type:"tel",name:"telefono",placeholder:"Telfono",value:s.telefono,onChange:g,required:!0}),nt.jsx("button",{type:"submit",children:"Confirmar compra"})]})]})}function sw(){return nt.jsx(zA,{children:nt.jsxs(DA,{children:[nt.jsx(PA,{}),nt.jsxs(rA,{children:[nt.jsx(vs,{path:"/",element:nt.jsx(pv,{})}),nt.jsx(vs,{path:"/category/:categoryId",element:nt.jsx(pv,{})}),nt.jsx(vs,{path:"/item/:id",element:nt.jsx(nw,{})}),nt.jsx(vs,{path:"/cart",element:nt.jsx(aw,{})}),nt.jsx(vs,{path:"/checkout",element:nt.jsx(rw,{})})]})]})})}m1.createRoot(document.getElementById("root")).render(nt.jsx(s1.StrictMode,{children:nt.jsx(sw,{})}));
